module.exports = [
"[project]/node_modules/@openai/agents-core/dist/utils/safeExecute.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "safeExecute",
    ()=>safeExecute
]);
async function safeExecute(fn) {
    try {
        return [
            null,
            await fn()
        ];
    } catch (error) {
        return [
            error,
            null
        ];
    }
} //# sourceMappingURL=safeExecute.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Base class for all errors thrown by the library.
 */ __turbopack_context__.s([
    "AgentsError",
    ()=>AgentsError,
    "GuardrailExecutionError",
    ()=>GuardrailExecutionError,
    "InputGuardrailTripwireTriggered",
    ()=>InputGuardrailTripwireTriggered,
    "MaxTurnsExceededError",
    ()=>MaxTurnsExceededError,
    "ModelBehaviorError",
    ()=>ModelBehaviorError,
    "OutputGuardrailTripwireTriggered",
    ()=>OutputGuardrailTripwireTriggered,
    "SystemError",
    ()=>SystemError,
    "ToolCallError",
    ()=>ToolCallError,
    "UserError",
    ()=>UserError
]);
class AgentsError extends Error {
    state;
    constructor(message, state){
        super(message);
        this.state = state;
    }
}
class SystemError extends AgentsError {
}
class MaxTurnsExceededError extends AgentsError {
}
class ModelBehaviorError extends AgentsError {
}
class UserError extends AgentsError {
}
class GuardrailExecutionError extends AgentsError {
    error;
    constructor(message, error, state){
        super(message, state);
        this.error = error;
    }
}
class ToolCallError extends AgentsError {
    error;
    constructor(message, error, state){
        super(message, state);
        this.error = error;
    }
}
class InputGuardrailTripwireTriggered extends AgentsError {
    result;
    constructor(message, result, state){
        super(message, state);
        this.result = result;
    }
}
class OutputGuardrailTripwireTriggered extends AgentsError {
    result;
    constructor(message, result, state){
        super(message, state);
        this.result = result;
    }
} //# sourceMappingURL=errors.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/utils/typeGuards.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Verifies that an input is a ZodObject without needing to have Zod at runtime since it's an
 * optional dependency.
 * @param input
 * @returns
 */ __turbopack_context__.s([
    "isAgentToolInput",
    ()=>isAgentToolInput,
    "isZodObject",
    ()=>isZodObject
]);
function isZodObject(input) {
    return typeof input === 'object' && input !== null && '_def' in input && typeof input._def === 'object' && input._def !== null && 'typeName' in input._def && input._def.typeName === 'ZodObject';
}
function isAgentToolInput(input) {
    return typeof input === 'object' && input !== null && 'input' in input && typeof input.input === 'string';
} //# sourceMappingURL=typeGuards.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/utils/tools.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "convertAgentOutputTypeToSerializable",
    ()=>convertAgentOutputTypeToSerializable,
    "getSchemaAndParserFromInputType",
    ()=>getSchemaAndParserFromInputType,
    "toFunctionToolName",
    ()=>toFunctionToolName
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$openai$2f$helpers$2f$zod$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/openai/helpers/zod.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/typeGuards.mjs [app-route] (ecmascript)");
;
;
;
function toFunctionToolName(name) {
    // Replace spaces with underscores
    name = name.replace(/\s/g, '_');
    // Replace non-alphanumeric characters with underscores
    name = name.replace(/[^a-zA-Z0-9]/g, '_');
    // Ensure the name is not empty
    if (name.length === 0) {
        throw new Error('Tool name cannot be empty');
    }
    return name;
}
function getSchemaAndParserFromInputType(inputType, name) {
    const parser = (input)=>JSON.parse(input);
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isZodObject"])(inputType)) {
        const formattedFunction = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$openai$2f$helpers$2f$zod$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["zodResponsesFunction"])({
            name,
            parameters: inputType,
            function: ()=>{},
            description: ''
        });
        return {
            schema: formattedFunction.parameters,
            parser: formattedFunction.$parseRaw
        };
    } else if (typeof inputType === 'object' && inputType !== null) {
        return {
            schema: inputType,
            parser
        };
    }
    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"]('Input type is not a ZodObject or a valid JSON schema');
}
function convertAgentOutputTypeToSerializable(outputType) {
    if (outputType === 'text') {
        return 'text';
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isZodObject"])(outputType)) {
        const output = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$openai$2f$helpers$2f$zod$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["zodTextFormat"])(outputType, 'output');
        return {
            type: output.type,
            name: output.name,
            strict: output.strict || false,
            schema: output.schema
        };
    }
    return outputType;
} //# sourceMappingURL=tools.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/config.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "loadEnv",
    ()=>loadEnv,
    "logging",
    ()=>logging,
    "tracing",
    ()=>tracing
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
;
function loadEnv() {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["loadEnv"])();
}
/**
 * Checks if a flag is enabled in the environment.
 *
 * @param flagName - The name of the flag to check.
 * @returns `true` if the flag is enabled, `false` otherwise.
 */ function isEnabled(flagName) {
    const env = loadEnv();
    return typeof env !== 'undefined' && (env[flagName] === 'true' || env[flagName] === '1');
}
const tracing = {
    get disabled () {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isBrowserEnvironment"])()) {
            return true;
        } else if (loadEnv().NODE_ENV === 'test') {
            // disabling by default in tests
            return true;
        }
        return isEnabled('OPENAI_AGENTS_DISABLE_TRACING');
    }
};
const logging = {
    get dontLogModelData () {
        return isEnabled('OPENAI_AGENTS_DONT_LOG_MODEL_DATA');
    },
    get dontLogToolData () {
        return isEnabled('OPENAI_AGENTS_DONT_LOG_TOOL_DATA');
    }
}; //# sourceMappingURL=config.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__,
    "getLogger",
    ()=>getLogger,
    "logger",
    ()=>logger
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$debug$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/debug/src/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/config.mjs [app-route] (ecmascript)");
;
;
/**
 * By default we don't log LLM inputs/outputs, to prevent exposing sensitive data. Set this flag
 * to enable logging them.
 */ const dontLogModelData = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logging"].dontLogModelData;
/**
 * By default we don't log tool inputs/outputs, to prevent exposing sensitive data. Set this flag
 * to enable logging them.
 */ const dontLogToolData = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logging"].dontLogToolData;
function getLogger(namespace = 'openai-agents') {
    return {
        namespace,
        debug: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$debug$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])(namespace),
        error: console.error,
        warn: console.warn,
        dontLogModelData,
        dontLogToolData
    };
}
const logger = getLogger('openai-agents:core');
const __TURBOPACK__default__export__ = logger;
 //# sourceMappingURL=logger.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/utils/smartString.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "toSmartString",
    ()=>toSmartString
]);
function toSmartString(value) {
    if (value === null || value === undefined) {
        return String(value);
    } else if (typeof value === 'string') {
        return value;
    } else if (typeof value === 'object') {
        try {
            return JSON.stringify(value);
        } catch (_e) {
            return '[object with circular references]';
        }
    }
    return String(value);
} //# sourceMappingURL=smartString.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tool.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "computerTool",
    ()=>computerTool,
    "hostedMcpTool",
    ()=>hostedMcpTool,
    "tool",
    ()=>tool
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$safeExecute$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/safeExecute.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/tools.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/typeGuards.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/smartString.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
function computerTool(options) {
    return {
        type: 'computer',
        name: options.name ?? 'computer_use_preview',
        computer: options.computer
    };
}
function hostedMcpTool(options) {
    if ('serverUrl' in options) {
        // the MCP servers comaptible with the specification
        const providerData = typeof options.requireApproval === 'undefined' || options.requireApproval === 'never' ? {
            type: 'mcp',
            server_label: options.serverLabel,
            server_url: options.serverUrl,
            require_approval: 'never',
            allowed_tools: toMcpAllowedToolsFilter(options.allowedTools),
            headers: options.headers
        } : {
            type: 'mcp',
            server_label: options.serverLabel,
            server_url: options.serverUrl,
            allowed_tools: toMcpAllowedToolsFilter(options.allowedTools),
            headers: options.headers,
            require_approval: typeof options.requireApproval === 'string' ? 'always' : buildRequireApproval(options.requireApproval),
            on_approval: options.onApproval
        };
        return {
            type: 'hosted_tool',
            name: 'hosted_mcp',
            providerData
        };
    } else if ('connectorId' in options) {
        // OpenAI's connectors
        const providerData = typeof options.requireApproval === 'undefined' || options.requireApproval === 'never' ? {
            type: 'mcp',
            server_label: options.serverLabel,
            connector_id: options.connectorId,
            authorization: options.authorization,
            require_approval: 'never',
            allowed_tools: toMcpAllowedToolsFilter(options.allowedTools),
            headers: options.headers
        } : {
            type: 'mcp',
            server_label: options.serverLabel,
            connector_id: options.connectorId,
            authorization: options.authorization,
            allowed_tools: toMcpAllowedToolsFilter(options.allowedTools),
            headers: options.headers,
            require_approval: typeof options.requireApproval === 'string' ? 'always' : buildRequireApproval(options.requireApproval),
            on_approval: options.onApproval
        };
        return {
            type: 'hosted_tool',
            name: 'hosted_mcp',
            providerData
        };
    } else {
        // the MCP servers comaptible with the specification
        const providerData = typeof options.requireApproval === 'undefined' || options.requireApproval === 'never' ? {
            type: 'mcp',
            server_label: options.serverLabel,
            require_approval: 'never',
            allowed_tools: toMcpAllowedToolsFilter(options.allowedTools)
        } : {
            type: 'mcp',
            server_label: options.serverLabel,
            allowed_tools: toMcpAllowedToolsFilter(options.allowedTools),
            require_approval: typeof options.requireApproval === 'string' ? 'always' : buildRequireApproval(options.requireApproval),
            on_approval: options.onApproval
        };
        return {
            type: 'hosted_tool',
            name: 'hosted_mcp',
            providerData
        };
    }
}
/**
 * The default function to invoke when an error occurs while running the tool.
 *
 * Always returns `An error occurred while running the tool. Please try again. Error: <error details>`
 *
 * @param context An instance of the current RunContext
 * @param error The error that occurred
 */ function defaultToolErrorFunction(context, error) {
    const details = error instanceof Error ? error.toString() : String(error);
    return `An error occurred while running the tool. Please try again. Error: ${details}`;
}
function tool(options) {
    const name = options.name ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toFunctionToolName"])(options.name) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toFunctionToolName"])(options.execute.name);
    const toolErrorFunction = typeof options.errorFunction === 'undefined' ? defaultToolErrorFunction : options.errorFunction;
    if (!name) {
        throw new Error('Tool name cannot be empty. Either name your function or provide a name in the options.');
    }
    const strictMode = options.strict ?? true;
    if (!strictMode && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isZodObject"])(options.parameters)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"]('Strict mode is required for Zod parameters');
    }
    const { parser, schema: parameters } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getSchemaAndParserFromInputType"])(options.parameters, name);
    async function _invoke(runContext, input, details) {
        const [error, parsed] = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$safeExecute$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["safeExecute"])(()=>parser(input));
        if (error !== null) {
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].dontLogToolData) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Invalid JSON input for tool ${name}`);
            } else {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Invalid JSON input for tool ${name}: ${input}`);
            }
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"]('Invalid JSON input for tool');
        }
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].dontLogToolData) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Invoking tool ${name}`);
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Invoking tool ${name} with input ${input}`);
        }
        const result = await options.execute(parsed, runContext, details);
        const stringResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toSmartString"])(result);
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].dontLogToolData) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Tool ${name} completed`);
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Tool ${name} returned: ${stringResult}`);
        }
        return result;
    }
    async function invoke(runContext, input, details) {
        return _invoke(runContext, input, details).catch((error)=>{
            if (toolErrorFunction) {
                const currentSpan = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentSpan"])();
                currentSpan?.setError({
                    message: 'Error running tool (non-fatal)',
                    data: {
                        tool_name: name,
                        error: error.toString()
                    }
                });
                return toolErrorFunction(runContext, error);
            }
            throw error;
        });
    }
    const needsApproval = typeof options.needsApproval === 'function' ? options.needsApproval : async ()=>typeof options.needsApproval === 'boolean' ? options.needsApproval : false;
    return {
        type: 'function',
        name,
        description: options.description,
        parameters,
        strict: strictMode,
        invoke,
        needsApproval
    };
}
function buildRequireApproval(requireApproval) {
    const result = {};
    if (requireApproval.always) {
        result.always = {
            tool_names: requireApproval.always.toolNames
        };
    }
    if (requireApproval.never) {
        result.never = {
            tool_names: requireApproval.never.toolNames
        };
    }
    return result;
}
function toMcpAllowedToolsFilter(allowedTools) {
    if (typeof allowedTools === 'undefined') {
        return undefined;
    }
    if (Array.isArray(allowedTools)) {
        return {
            tool_names: allowedTools
        };
    }
    return {
        tool_names: allowedTools?.toolNames ?? []
    };
} //# sourceMappingURL=tool.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript) <export NodeMCPServerStdio as MCPServerStdio>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MCPServerStdio",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NodeMCPServerStdio"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript)");
}),
"[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript) <export NodeMCPServerStreamableHttp as MCPServerStreamableHttp>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MCPServerStreamableHttp",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NodeMCPServerStreamableHttp"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript)");
}),
"[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript) <export NodeMCPServerSSE as MCPServerSSE>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MCPServerSSE",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NodeMCPServerSSE"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript)");
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/createSpans.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createAgentSpan",
    ()=>createAgentSpan,
    "createCustomSpan",
    ()=>createCustomSpan,
    "createFunctionSpan",
    ()=>createFunctionSpan,
    "createGenerationSpan",
    ()=>createGenerationSpan,
    "createGuardrailSpan",
    ()=>createGuardrailSpan,
    "createHandoffSpan",
    ()=>createHandoffSpan,
    "createMCPListToolsSpan",
    ()=>createMCPListToolsSpan,
    "createResponseSpan",
    ()=>createResponseSpan,
    "createSpeechGroupSpan",
    ()=>createSpeechGroupSpan,
    "createSpeechSpan",
    ()=>createSpeechSpan,
    "createTranscriptionSpan",
    ()=>createTranscriptionSpan,
    "withAgentSpan",
    ()=>withAgentSpan,
    "withCustomSpan",
    ()=>withCustomSpan,
    "withFunctionSpan",
    ()=>withFunctionSpan,
    "withGenerationSpan",
    ()=>withGenerationSpan,
    "withGuardrailSpan",
    ()=>withGuardrailSpan,
    "withHandoffSpan",
    ()=>withHandoffSpan,
    "withMCPListToolsSpan",
    ()=>withMCPListToolsSpan,
    "withResponseSpan",
    ()=>withResponseSpan,
    "withSpeechGroupSpan",
    ()=>withSpeechGroupSpan,
    "withSpeechSpan",
    ()=>withSpeechSpan,
    "withTranscriptionSpan",
    ()=>withTranscriptionSpan
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/provider.mjs [app-route] (ecmascript)");
;
;
function _withSpanFactory(createSpan) {
    return async (fn, ...args)=>{
        // Creating a new span context to make sure that the previous span is correctly reset
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withNewSpanContext"])(async ()=>{
            const span = createSpan(...args);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setCurrentSpan"])(span);
            try {
                span.start();
                return await fn(span);
            } catch (error) {
                span.setError({
                    message: error.message,
                    data: error.data
                });
                throw error;
            } finally{
                span.end();
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["resetCurrentSpan"])();
            }
        });
    };
}
function createResponseSpan(options, parent) {
    options = {};
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'response',
            ...options.data
        }
    }, parent);
}
const withResponseSpan = _withSpanFactory(createResponseSpan);
function createAgentSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'agent',
            name: options?.data?.name ?? 'Agent',
            ...options?.data
        }
    }, parent);
}
const withAgentSpan = _withSpanFactory(createAgentSpan);
function createFunctionSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'function',
            input: options?.data?.input ?? '',
            output: options?.data?.output ?? '',
            ...options?.data
        }
    }, parent);
}
const withFunctionSpan = _withSpanFactory(createFunctionSpan);
function createHandoffSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'handoff',
            ...options?.data
        }
    }, parent);
}
const withHandoffSpan = _withSpanFactory(createHandoffSpan);
function createGenerationSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'generation',
            ...options?.data
        }
    }, parent);
}
const withGenerationSpan = _withSpanFactory(createGenerationSpan);
function createCustomSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'custom',
            data: {},
            ...options?.data
        }
    }, parent);
}
const withCustomSpan = _withSpanFactory(createCustomSpan);
function createGuardrailSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'guardrail',
            triggered: false,
            ...options?.data
        }
    }, parent);
}
const withGuardrailSpan = _withSpanFactory(createGuardrailSpan);
function createTranscriptionSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'transcription',
            ...options.data
        }
    }, parent);
}
const withTranscriptionSpan = _withSpanFactory(createTranscriptionSpan);
function createSpeechSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'speech',
            ...options.data
        }
    }, parent);
}
const withSpeechSpan = _withSpanFactory(createSpeechSpan);
function createSpeechGroupSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'speech_group',
            ...options?.data
        }
    }, parent);
}
const withSpeechGroupSpan = _withSpanFactory(createSpeechGroupSpan);
function createMCPListToolsSpan(options, parent) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        ...options,
        data: {
            type: 'mcp_tools',
            ...options?.data
        }
    }, parent);
}
const withMCPListToolsSpan = _withSpanFactory(createMCPListToolsSpan); //# sourceMappingURL=createSpans.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/mcp.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BaseMCPServerSSE",
    ()=>BaseMCPServerSSE,
    "BaseMCPServerStdio",
    ()=>BaseMCPServerStdio,
    "BaseMCPServerStreamableHttp",
    ()=>BaseMCPServerStreamableHttp,
    "DEFAULT_SSE_MCP_CLIENT_LOGGER_NAME",
    ()=>DEFAULT_SSE_MCP_CLIENT_LOGGER_NAME,
    "DEFAULT_STDIO_MCP_CLIENT_LOGGER_NAME",
    ()=>DEFAULT_STDIO_MCP_CLIENT_LOGGER_NAME,
    "DEFAULT_STREAMABLE_HTTP_MCP_CLIENT_LOGGER_NAME",
    ()=>DEFAULT_STREAMABLE_HTTP_MCP_CLIENT_LOGGER_NAME,
    "MCPServerSSE",
    ()=>MCPServerSSE,
    "MCPServerStdio",
    ()=>MCPServerStdio,
    "MCPServerStreamableHttp",
    ()=>MCPServerStreamableHttp,
    "MCPTool",
    ()=>MCPTool,
    "getAllMcpTools",
    ()=>getAllMcpTools,
    "invalidateServerToolsCache",
    ()=>invalidateServerToolsCache,
    "mcpToFunctionTool",
    ()=>mcpToFunctionTool
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tool.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__NodeMCPServerStdio__as__MCPServerStdio$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript) <export NodeMCPServerStdio as MCPServerStdio>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__NodeMCPServerStreamableHttp__as__MCPServerStreamableHttp$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript) <export NodeMCPServerStreamableHttp as MCPServerStreamableHttp>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__NodeMCPServerSSE__as__MCPServerSSE$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript) <export NodeMCPServerSSE as MCPServerSSE>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/createSpans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$debug$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/debug/src/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/zod/v3/external.js [app-route] (ecmascript) <export * as z>");
;
;
;
;
;
;
;
const DEFAULT_STDIO_MCP_CLIENT_LOGGER_NAME = 'openai-agents:stdio-mcp-client';
const DEFAULT_STREAMABLE_HTTP_MCP_CLIENT_LOGGER_NAME = 'openai-agents:streamable-http-mcp-client';
const DEFAULT_SSE_MCP_CLIENT_LOGGER_NAME = 'openai-agents:sse-mcp-client';
class BaseMCPServerStdio {
    cacheToolsList;
    _cachedTools = undefined;
    toolFilter;
    logger;
    constructor(options){
        this.logger = options.logger ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getLogger"])(DEFAULT_STDIO_MCP_CLIENT_LOGGER_NAME);
        this.cacheToolsList = options.cacheToolsList ?? false;
        this.toolFilter = options.toolFilter;
    }
    /**
     * Logs a debug message when debug logging is enabled.
     * @param buildMessage A function that returns the message to log.
     */ debugLog(buildMessage) {
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$debug$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].enabled(this.logger.namespace)) {
            // only when this is true, the function to build the string is called
            this.logger.debug(buildMessage());
        }
    }
}
class BaseMCPServerStreamableHttp {
    cacheToolsList;
    _cachedTools = undefined;
    toolFilter;
    logger;
    constructor(options){
        this.logger = options.logger ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getLogger"])(DEFAULT_STREAMABLE_HTTP_MCP_CLIENT_LOGGER_NAME);
        this.cacheToolsList = options.cacheToolsList ?? false;
        this.toolFilter = options.toolFilter;
    }
    /**
     * Logs a debug message when debug logging is enabled.
     * @param buildMessage A function that returns the message to log.
     */ debugLog(buildMessage) {
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$debug$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].enabled(this.logger.namespace)) {
            // only when this is true, the function to build the string is called
            this.logger.debug(buildMessage());
        }
    }
}
class BaseMCPServerSSE {
    cacheToolsList;
    _cachedTools = undefined;
    toolFilter;
    logger;
    constructor(options){
        this.logger = options.logger ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getLogger"])(DEFAULT_SSE_MCP_CLIENT_LOGGER_NAME);
        this.cacheToolsList = options.cacheToolsList ?? false;
        this.toolFilter = options.toolFilter;
    }
    /**
     * Logs a debug message when debug logging is enabled.
     * @param buildMessage A function that returns the message to log.
     */ debugLog(buildMessage) {
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$debug$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].enabled(this.logger.namespace)) {
            // only when this is true, the function to build the string is called
            this.logger.debug(buildMessage());
        }
    }
}
const MCPTool = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    description: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    inputSchema: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('object'),
        properties: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()),
        required: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()),
        additionalProperties: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].boolean()
    })
});
class MCPServerStdio extends BaseMCPServerStdio {
    underlying;
    constructor(options){
        super(options);
        this.underlying = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__NodeMCPServerStdio__as__MCPServerStdio$3e$__["MCPServerStdio"](options);
    }
    get name() {
        return this.underlying.name;
    }
    connect() {
        return this.underlying.connect();
    }
    close() {
        return this.underlying.close();
    }
    async listTools() {
        if (this.cacheToolsList && this._cachedTools) {
            return this._cachedTools;
        }
        const tools = await this.underlying.listTools();
        if (this.cacheToolsList) {
            this._cachedTools = tools;
        }
        return tools;
    }
    callTool(toolName, args) {
        return this.underlying.callTool(toolName, args);
    }
    invalidateToolsCache() {
        return this.underlying.invalidateToolsCache();
    }
}
class MCPServerStreamableHttp extends BaseMCPServerStreamableHttp {
    underlying;
    constructor(options){
        super(options);
        this.underlying = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__NodeMCPServerStreamableHttp__as__MCPServerStreamableHttp$3e$__["MCPServerStreamableHttp"](options);
    }
    get name() {
        return this.underlying.name;
    }
    connect() {
        return this.underlying.connect();
    }
    close() {
        return this.underlying.close();
    }
    async listTools() {
        if (this.cacheToolsList && this._cachedTools) {
            return this._cachedTools;
        }
        const tools = await this.underlying.listTools();
        if (this.cacheToolsList) {
            this._cachedTools = tools;
        }
        return tools;
    }
    callTool(toolName, args) {
        return this.underlying.callTool(toolName, args);
    }
    invalidateToolsCache() {
        return this.underlying.invalidateToolsCache();
    }
}
class MCPServerSSE extends BaseMCPServerSSE {
    underlying;
    constructor(options){
        super(options);
        this.underlying = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__NodeMCPServerSSE__as__MCPServerSSE$3e$__["MCPServerSSE"](options);
    }
    get name() {
        return this.underlying.name;
    }
    connect() {
        return this.underlying.connect();
    }
    close() {
        return this.underlying.close();
    }
    async listTools() {
        if (this.cacheToolsList && this._cachedTools) {
            return this._cachedTools;
        }
        const tools = await this.underlying.listTools();
        if (this.cacheToolsList) {
            this._cachedTools = tools;
        }
        return tools;
    }
    callTool(toolName, args) {
        return this.underlying.callTool(toolName, args);
    }
    invalidateToolsCache() {
        return this.underlying.invalidateToolsCache();
    }
}
/**
 * Fetches and flattens all tools from multiple MCP servers.
 * Logs and skips any servers that fail to respond.
 */ const _cachedTools = {};
async function invalidateServerToolsCache(serverName) {
    delete _cachedTools[serverName];
}
/**
 * Fetches all function tools from a single MCP server.
 */ async function getFunctionToolsFromServer({ server, convertSchemasToStrict, runContext, agent }) {
    if (server.cacheToolsList && _cachedTools[server.name]) {
        return _cachedTools[server.name].map((t)=>mcpToFunctionTool(t, server, convertSchemasToStrict));
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withMCPListToolsSpan"])(async (span)=>{
        const fetchedMcpTools = await server.listTools();
        let mcpTools = fetchedMcpTools;
        if (runContext && agent) {
            const context = {
                runContext,
                agent,
                serverName: server.name
            };
            const filteredTools = [];
            for (const tool of fetchedMcpTools){
                const filter = server.toolFilter;
                if (filter) {
                    if (typeof filter === 'function') {
                        const filtered = await filter(context, tool);
                        if (!filtered) {
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logger"].debug(`MCP Tool (server: ${server.name}, tool: ${tool.name}) is blocked by the callable filter.`);
                            continue;
                        }
                    } else {
                        const allowedToolNames = filter.allowedToolNames ?? [];
                        const blockedToolNames = filter.blockedToolNames ?? [];
                        if (allowedToolNames.length > 0 || blockedToolNames.length > 0) {
                            const allowed = allowedToolNames.length > 0 ? allowedToolNames.includes(tool.name) : true;
                            const blocked = blockedToolNames.length > 0 ? blockedToolNames.includes(tool.name) : false;
                            if (!allowed || blocked) {
                                if (blocked) {
                                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logger"].debug(`MCP Tool (server: ${server.name}, tool: ${tool.name}) is blocked by the static filter.`);
                                } else if (!allowed) {
                                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logger"].debug(`MCP Tool (server: ${server.name}, tool: ${tool.name}) is not allowed by the static filter.`);
                                }
                                continue;
                            }
                        }
                    }
                }
                filteredTools.push(tool);
            }
            mcpTools = filteredTools;
        }
        span.spanData.result = mcpTools.map((t)=>t.name);
        const tools = mcpTools.map((t)=>mcpToFunctionTool(t, server, convertSchemasToStrict));
        if (server.cacheToolsList) {
            _cachedTools[server.name] = mcpTools;
        }
        return tools;
    }, {
        data: {
            server: server.name
        }
    });
}
async function getAllMcpTools(mcpServersOrOpts, runContext, agent, convertSchemasToStrict = false) {
    const opts = Array.isArray(mcpServersOrOpts) ? {
        mcpServers: mcpServersOrOpts,
        runContext,
        agent,
        convertSchemasToStrict
    } : mcpServersOrOpts;
    const { mcpServers, convertSchemasToStrict: convertSchemasToStrictFromOpts = false, runContext: runContextFromOpts, agent: agentFromOpts } = opts;
    const allTools = [];
    const toolNames = new Set();
    for (const server of mcpServers){
        const serverTools = await getFunctionToolsFromServer({
            server,
            convertSchemasToStrict: convertSchemasToStrictFromOpts,
            runContext: runContextFromOpts,
            agent: agentFromOpts
        });
        const serverToolNames = new Set(serverTools.map((t)=>t.name));
        const intersection = [
            ...serverToolNames
        ].filter((n)=>toolNames.has(n));
        if (intersection.length > 0) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Duplicate tool names found across MCP servers: ${intersection.join(', ')}`);
        }
        for (const t of serverTools){
            toolNames.add(t.name);
            allTools.push(t);
        }
    }
    return allTools;
}
function mcpToFunctionTool(mcpTool, server, convertSchemasToStrict) {
    async function invoke(input, _context) {
        let args = {};
        if (typeof input === 'string' && input) {
            args = JSON.parse(input);
        } else if (typeof input === 'object' && input != null) {
            args = input;
        }
        const currentSpan = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentSpan"])();
        if (currentSpan) {
            currentSpan.spanData['mcp_data'] = {
                server: server.name
            };
        }
        const content = await server.callTool(mcpTool.name, args);
        return content.length === 1 ? content[0] : content;
    }
    const schema = {
        ...mcpTool.inputSchema,
        type: mcpTool.inputSchema?.type ?? 'object',
        properties: mcpTool.inputSchema?.properties ?? {},
        required: mcpTool.inputSchema?.required ?? [],
        additionalProperties: mcpTool.inputSchema?.additionalProperties ?? false
    };
    if (convertSchemasToStrict || schema.additionalProperties === true) {
        try {
            const strictSchema = ensureStrictJsonSchema(schema);
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["tool"])({
                name: mcpTool.name,
                description: mcpTool.description || '',
                parameters: strictSchema,
                strict: true,
                execute: invoke
            });
        } catch (e) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logger"].warn(`Error converting MCP schema to strict mode: ${e}`);
        }
    }
    const nonStrictSchema = {
        ...schema,
        additionalProperties: true
    };
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["tool"])({
        name: mcpTool.name,
        description: mcpTool.description || '',
        parameters: nonStrictSchema,
        strict: false,
        execute: invoke
    });
}
/**
 * Ensures the given JSON schema is strict (no additional properties, required fields set).
 */ function ensureStrictJsonSchema(schema) {
    const out = {
        ...schema,
        additionalProperties: false
    };
    if (!out.required) out.required = [];
    return out;
} //# sourceMappingURL=mcp.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NodeMCPServerSSE",
    ()=>NodeMCPServerSSE,
    "NodeMCPServerStdio",
    ()=>NodeMCPServerStdio,
    "NodeMCPServerStreamableHttp",
    ()=>NodeMCPServerStreamableHttp
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$modelcontextprotocol$2f$sdk$2f$dist$2f$esm$2f$shared$2f$protocol$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/shared/protocol.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/mcp.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
;
;
;
function failedToImport(error) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].error(`
Failed to load the MCP SDK. Please install the @modelcontextprotocol/sdk package.

npm install @modelcontextprotocol/sdk
    `.trim());
    throw error;
}
class NodeMCPServerStdio extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["BaseMCPServerStdio"] {
    session = null;
    _cacheDirty = true;
    _toolsList = [];
    serverInitializeResult = null;
    clientSessionTimeoutSeconds;
    timeout;
    params;
    _name;
    transport = null;
    constructor(params){
        super(params);
        this.clientSessionTimeoutSeconds = params.clientSessionTimeoutSeconds ?? 5;
        this.timeout = params.timeout ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$modelcontextprotocol$2f$sdk$2f$dist$2f$esm$2f$shared$2f$protocol$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["DEFAULT_REQUEST_TIMEOUT_MSEC"];
        if ('fullCommand' in params) {
            const elements = params.fullCommand.split(' ');
            const command = elements.shift();
            if (!command) {
                throw new Error('Invalid fullCommand: ' + params.fullCommand);
            }
            this.params = {
                ...params,
                command: command,
                args: elements,
                encoding: params.encoding || 'utf-8',
                encodingErrorHandler: params.encodingErrorHandler || 'strict'
            };
        } else {
            this.params = params;
        }
        this._name = params.name || `stdio: ${this.params.command}`;
    }
    async connect() {
        try {
            const { StdioClientTransport } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/client/stdio.js [app-route] (ecmascript, async loader)").catch(failedToImport);
            const { Client } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/client/index.js [app-route] (ecmascript, async loader)").catch(failedToImport);
            this.transport = new StdioClientTransport({
                command: this.params.command,
                args: this.params.args,
                env: this.params.env,
                cwd: this.params.cwd
            });
            this.session = new Client({
                name: this._name,
                version: '1.0.0'
            });
            await this.session.connect(this.transport);
            this.serverInitializeResult = {
                serverInfo: {
                    name: this._name,
                    version: '1.0.0'
                }
            };
        } catch (e) {
            this.logger.error('Error initializing MCP server:', e);
            await this.close();
            throw e;
        }
        this.debugLog(()=>`Connected to MCP server: ${this._name}`);
    }
    async invalidateToolsCache() {
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["invalidateServerToolsCache"])(this.name);
        this._cacheDirty = true;
    }
    async listTools() {
        const { ListToolsResultSchema } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/types.js [app-route] (ecmascript, async loader)").catch(failedToImport);
        if (!this.session) {
            throw new Error('Server not initialized. Make sure you call connect() first.');
        }
        if (this.cacheToolsList && !this._cacheDirty && this._toolsList) {
            return this._toolsList;
        }
        this._cacheDirty = false;
        const response = await this.session.listTools();
        this.debugLog(()=>`Listed tools: ${JSON.stringify(response)}`);
        this._toolsList = ListToolsResultSchema.parse(response).tools;
        return this._toolsList;
    }
    async callTool(toolName, args) {
        const { CallToolResultSchema } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/types.js [app-route] (ecmascript, async loader)").catch(failedToImport);
        if (!this.session) {
            throw new Error('Server not initialized. Make sure you call connect() first.');
        }
        const response = await this.session.callTool({
            name: toolName,
            arguments: args ?? {}
        }, undefined, {
            timeout: this.timeout
        });
        const parsed = CallToolResultSchema.parse(response);
        const result = parsed.content;
        this.debugLog(()=>`Called tool ${toolName} (args: ${JSON.stringify(args)}, result: ${JSON.stringify(result)})`);
        return result;
    }
    get name() {
        return this._name;
    }
    async close() {
        if (this.transport) {
            await this.transport.close();
            this.transport = null;
        }
        if (this.session) {
            await this.session.close();
            this.session = null;
        }
    }
}
class NodeMCPServerSSE extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["BaseMCPServerSSE"] {
    session = null;
    _cacheDirty = true;
    _toolsList = [];
    serverInitializeResult = null;
    clientSessionTimeoutSeconds;
    timeout;
    params;
    _name;
    transport = null;
    constructor(params){
        super(params);
        this.clientSessionTimeoutSeconds = params.clientSessionTimeoutSeconds ?? 5;
        this.params = params;
        this._name = params.name || `sse: ${this.params.url}`;
        this.timeout = params.timeout ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$modelcontextprotocol$2f$sdk$2f$dist$2f$esm$2f$shared$2f$protocol$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["DEFAULT_REQUEST_TIMEOUT_MSEC"];
    }
    async connect() {
        try {
            const { SSEClientTransport } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/client/sse.js [app-route] (ecmascript, async loader)").catch(failedToImport);
            const { Client } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/client/index.js [app-route] (ecmascript, async loader)").catch(failedToImport);
            this.transport = new SSEClientTransport(new URL(this.params.url), {
                authProvider: this.params.authProvider,
                requestInit: this.params.requestInit,
                eventSourceInit: this.params.eventSourceInit
            });
            this.session = new Client({
                name: this._name,
                version: '1.0.0'
            });
            await this.session.connect(this.transport);
            this.serverInitializeResult = {
                serverInfo: {
                    name: this._name,
                    version: '1.0.0'
                }
            };
        } catch (e) {
            this.logger.error('Error initializing MCP server:', e);
            await this.close();
            throw e;
        }
        this.debugLog(()=>`Connected to MCP server: ${this._name}`);
    }
    async invalidateToolsCache() {
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["invalidateServerToolsCache"])(this.name);
        this._cacheDirty = true;
    }
    async listTools() {
        const { ListToolsResultSchema } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/types.js [app-route] (ecmascript, async loader)").catch(failedToImport);
        if (!this.session) {
            throw new Error('Server not initialized. Make sure you call connect() first.');
        }
        if (this.cacheToolsList && !this._cacheDirty && this._toolsList) {
            return this._toolsList;
        }
        this._cacheDirty = false;
        const response = await this.session.listTools();
        this.debugLog(()=>`Listed tools: ${JSON.stringify(response)}`);
        this._toolsList = ListToolsResultSchema.parse(response).tools;
        return this._toolsList;
    }
    async callTool(toolName, args) {
        const { CallToolResultSchema } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/types.js [app-route] (ecmascript, async loader)").catch(failedToImport);
        if (!this.session) {
            throw new Error('Server not initialized. Make sure you call connect() first.');
        }
        const response = await this.session.callTool({
            name: toolName,
            arguments: args ?? {}
        }, undefined, {
            timeout: this.timeout
        });
        const parsed = CallToolResultSchema.parse(response);
        const result = parsed.content;
        this.debugLog(()=>`Called tool ${toolName} (args: ${JSON.stringify(args)}, result: ${JSON.stringify(result)})`);
        return result;
    }
    get name() {
        return this._name;
    }
    async close() {
        if (this.transport) {
            await this.transport.close();
            this.transport = null;
        }
        if (this.session) {
            await this.session.close();
            this.session = null;
        }
    }
}
class NodeMCPServerStreamableHttp extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["BaseMCPServerStreamableHttp"] {
    session = null;
    _cacheDirty = true;
    _toolsList = [];
    serverInitializeResult = null;
    clientSessionTimeoutSeconds;
    timeout;
    params;
    _name;
    transport = null;
    constructor(params){
        super(params);
        this.clientSessionTimeoutSeconds = params.clientSessionTimeoutSeconds ?? 5;
        this.params = params;
        this._name = params.name || `streamable-http: ${this.params.url}`;
        this.timeout = params.timeout ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$modelcontextprotocol$2f$sdk$2f$dist$2f$esm$2f$shared$2f$protocol$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["DEFAULT_REQUEST_TIMEOUT_MSEC"];
    }
    async connect() {
        try {
            const { StreamableHTTPClientTransport } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/client/streamableHttp.js [app-route] (ecmascript, async loader)").catch(failedToImport);
            const { Client } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/client/index.js [app-route] (ecmascript, async loader)").catch(failedToImport);
            this.transport = new StreamableHTTPClientTransport(new URL(this.params.url), {
                authProvider: this.params.authProvider,
                requestInit: this.params.requestInit,
                fetch: this.params.fetch,
                reconnectionOptions: this.params.reconnectionOptions,
                sessionId: this.params.sessionId
            });
            this.session = new Client({
                name: this._name,
                version: '1.0.0'
            });
            await this.session.connect(this.transport);
            this.serverInitializeResult = {
                serverInfo: {
                    name: this._name,
                    version: '1.0.0'
                }
            };
        } catch (e) {
            this.logger.error('Error initializing MCP server:', e);
            await this.close();
            throw e;
        }
        this.debugLog(()=>`Connected to MCP server: ${this._name}`);
    }
    async invalidateToolsCache() {
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["invalidateServerToolsCache"])(this.name);
        this._cacheDirty = true;
    }
    async listTools() {
        const { ListToolsResultSchema } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/types.js [app-route] (ecmascript, async loader)").catch(failedToImport);
        if (!this.session) {
            throw new Error('Server not initialized. Make sure you call connect() first.');
        }
        if (this.cacheToolsList && !this._cacheDirty && this._toolsList) {
            return this._toolsList;
        }
        this._cacheDirty = false;
        const response = await this.session.listTools();
        this.debugLog(()=>`Listed tools: ${JSON.stringify(response)}`);
        this._toolsList = ListToolsResultSchema.parse(response).tools;
        return this._toolsList;
    }
    async callTool(toolName, args) {
        const { CallToolResultSchema } = await __turbopack_context__.A("[project]/node_modules/@modelcontextprotocol/sdk/dist/esm/types.js [app-route] (ecmascript, async loader)").catch(failedToImport);
        if (!this.session) {
            throw new Error('Server not initialized. Make sure you call connect() first.');
        }
        const response = await this.session.callTool({
            name: toolName,
            arguments: args ?? {}
        }, undefined, {
            timeout: this.timeout
        });
        const parsed = CallToolResultSchema.parse(response);
        const result = parsed.content;
        this.debugLog(()=>`Called tool ${toolName} (args: ${JSON.stringify(args)}, result: ${JSON.stringify(result)})`);
        return result;
    }
    get name() {
        return this._name;
    }
    async close() {
        if (this.transport) {
            await this.transport.close();
            this.transport = null;
        }
        if (this.session) {
            await this.session.close();
            this.session = null;
        }
    }
} //# sourceMappingURL=node.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "isBrowserEnvironment",
    ()=>isBrowserEnvironment,
    "isTracingLoopRunningByDefault",
    ()=>isTracingLoopRunningByDefault,
    "loadEnv",
    ()=>loadEnv,
    "timer",
    ()=>timer
]);
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$process__$5b$external$5d$__$28$node$3a$process$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:process [external] (node:process, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$events__$5b$external$5d$__$28$node$3a$events$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:events [external] (node:events, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$crypto__$5b$external$5d$__$28$node$3a$crypto$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:crypto [external] (node:crypto, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$stream__$5b$external$5d$__$28$node$3a$stream$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:stream [external] (node:stream, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$stream$2f$web__$5b$external$5d$__$28$node$3a$stream$2f$web$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:stream/web [external] (node:stream/web, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$async_hooks__$5b$external$5d$__$28$node$3a$async_hooks$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:async_hooks [external] (node:async_hooks, cjs)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$mcp$2d$server$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/mcp-server/node.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$timers__$5b$external$5d$__$28$node$3a$timers$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:timers [external] (node:timers, cjs)");
;
;
function loadEnv() {
    if (typeof __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$process__$5b$external$5d$__$28$node$3a$process$2c$__cjs$29$__ === 'undefined' || typeof __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$process__$5b$external$5d$__$28$node$3a$process$2c$__cjs$29$__.env === 'undefined') {
        // In CommonJS builds, import.meta is not available, so we return empty object
        try {
            // Use eval to avoid TypeScript compilation errors in CommonJS builds
            const importMeta = (0, eval)('import.meta');
            if (typeof importMeta === 'object' && typeof importMeta.env === 'object') {
                return importMeta.env;
            }
        } catch  {
        // import.meta not available (CommonJS build)
        }
        return {};
    }
    return __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$process__$5b$external$5d$__$28$node$3a$process$2c$__cjs$29$__.env;
}
;
;
;
;
function isTracingLoopRunningByDefault() {
    return true;
}
function isBrowserEnvironment() {
    return false;
}
;
;
class NodeTimer {
    constructor(){}
    setTimeout(callback, ms) {
        return setTimeout(callback, ms);
    }
    clearTimeout(timeoutId) {
        clearTimeout(timeoutId);
    }
}
const timer = new NodeTimer();
;
 //# sourceMappingURL=shims-node.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "addErrorToCurrentSpan",
    ()=>addErrorToCurrentSpan,
    "cloneCurrentContext",
    ()=>cloneCurrentContext,
    "getCurrentSpan",
    ()=>getCurrentSpan,
    "getCurrentTrace",
    ()=>getCurrentTrace,
    "getOrCreateTrace",
    ()=>getOrCreateTrace,
    "resetCurrentSpan",
    ()=>resetCurrentSpan,
    "setCurrentSpan",
    ()=>setCurrentSpan,
    "withNewSpanContext",
    ()=>withNewSpanContext,
    "withTrace",
    ()=>withTrace
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$async_hooks__$5b$external$5d$__$28$node$3a$async_hooks$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:async_hooks [external] (node:async_hooks, cjs)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/provider.mjs [app-route] (ecmascript)");
;
;
let _contextAsyncLocalStorage;
function getContextAsyncLocalStorage() {
    _contextAsyncLocalStorage ??= new __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$async_hooks__$5b$external$5d$__$28$node$3a$async_hooks$2c$__cjs$29$__["AsyncLocalStorage"]();
    return _contextAsyncLocalStorage;
}
function getCurrentTrace() {
    const currentTrace = getContextAsyncLocalStorage().getStore();
    if (currentTrace?.trace) {
        return currentTrace.trace;
    }
    return null;
}
function getCurrentSpan() {
    const currentSpan = getContextAsyncLocalStorage().getStore();
    if (currentSpan?.span) {
        return currentSpan.span;
    }
    return null;
}
/**
 * This is an AsyncLocalStorage instance that stores the current trace.
 * It will automatically handle the execution context of different event loop executions.
 *
 * The functions below should be the only way that this context gets interfaced with.
 */ function _wrapFunctionWithTraceLifecycle(fn) {
    return async ()=>{
        const trace = getCurrentTrace();
        if (!trace) {
            throw new Error('No trace found');
        }
        await trace.start();
        const result = await fn(trace);
        await trace.end();
        return result;
    };
}
async function withTrace(trace, fn, options = {}) {
    const newTrace = typeof trace === 'string' ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createTrace({
        ...options,
        name: trace
    }) : trace;
    return getContextAsyncLocalStorage().run({
        trace: newTrace
    }, _wrapFunctionWithTraceLifecycle(fn));
}
async function getOrCreateTrace(fn, options = {}) {
    const currentTrace = getCurrentTrace();
    if (currentTrace) {
        // if this execution context already has a trace instance in it we just continue
        return await fn();
    }
    const newTrace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createTrace(options);
    return getContextAsyncLocalStorage().run({
        trace: newTrace
    }, _wrapFunctionWithTraceLifecycle(fn));
}
function setCurrentSpan(span) {
    const context = getContextAsyncLocalStorage().getStore();
    if (!context) {
        throw new Error('No existing trace found');
    }
    if (context.span) {
        context.span.previousSpan = context.previousSpan;
        context.previousSpan = context.span;
    }
    context.span = span;
    getContextAsyncLocalStorage().enterWith(context);
}
function resetCurrentSpan() {
    const context = getContextAsyncLocalStorage().getStore();
    if (context) {
        context.span = context.previousSpan;
        context.previousSpan = context.previousSpan?.previousSpan;
        getContextAsyncLocalStorage().enterWith(context);
    }
}
function addErrorToCurrentSpan(spanError) {
    const currentSpan = getCurrentSpan();
    if (currentSpan) {
        currentSpan.setError(spanError);
    }
}
function cloneCurrentContext(context) {
    return {
        trace: context.trace?.clone(),
        span: context.span?.clone(),
        previousSpan: context.previousSpan?.clone()
    };
}
function withNewSpanContext(fn) {
    const currentContext = getContextAsyncLocalStorage().getStore();
    if (!currentContext) {
        throw new Error('No existing trace found');
    }
    const copyOfContext = cloneCurrentContext(currentContext);
    return getContextAsyncLocalStorage().run(copyOfContext, fn);
} //# sourceMappingURL=context.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/processor.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BatchTraceProcessor",
    ()=>BatchTraceProcessor,
    "ConsoleSpanExporter",
    ()=>ConsoleSpanExporter,
    "MultiTracingProcessor",
    ()=>MultiTracingProcessor,
    "defaultExporter",
    ()=>defaultExporter,
    "defaultProcessor",
    ()=>defaultProcessor
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/config.mjs [app-route] (ecmascript)");
;
;
;
class ConsoleSpanExporter {
    async export(items) {
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["tracing"].disabled) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Tracing is disabled. Skipping export');
            return;
        }
        for (const item of items){
            if (item.type === 'trace') {
                console.log(`[Exporter] Export trace traceId=${item.traceId} name=${item.name}${item.groupId ? ` groupId=${item.groupId}` : ''}`);
            } else {
                console.log(`[Exporter] Export span: ${JSON.stringify(item)}`);
            }
        }
    }
}
class BatchTraceProcessor {
    #maxQueueSize;
    #maxBatchSize;
    #scheduleDelay;
    #exportTriggerSize;
    #exporter;
    #buffer = [];
    #timer;
    #timeout = null;
    #exportInProgress = false;
    #timeoutAbortController = null;
    constructor(exporter, { maxQueueSize = 1000, maxBatchSize = 100, scheduleDelay = 5000, exportTriggerRatio = 0.8 } = {}){
        this.#maxQueueSize = maxQueueSize;
        this.#maxBatchSize = maxBatchSize;
        this.#scheduleDelay = scheduleDelay;
        this.#exportTriggerSize = maxQueueSize * exportTriggerRatio;
        this.#exporter = exporter;
        this.#timer = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["timer"];
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isTracingLoopRunningByDefault"])()) {
            this.start();
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Automatic trace export loop is not supported in this environment. You need to manually call `getGlobalTraceProvider().forceFlush()` to export traces.');
        }
    }
    start() {
        this.#timeoutAbortController = new AbortController();
        this.#runExportLoop();
    }
    async #safeAddItem(item) {
        if (this.#buffer.length + 1 > this.#maxQueueSize) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].error('Dropping trace because buffer is full');
            return;
        }
        // add the item to the buffer
        this.#buffer.push(item);
        if (this.#buffer.length > this.#exportTriggerSize) {
            // start exporting immediately
            await this.#exportBatches();
        }
    }
    #runExportLoop() {
        this.#timeout = this.#timer.setTimeout(async ()=>{
            // scheduled export
            await this.#exportBatches();
            this.#runExportLoop();
        }, this.#scheduleDelay);
        // We set this so that Node no longer considers this part of the event loop and keeps the
        // process alive until the timer is done.
        if (typeof this.#timeout.unref === 'function') {
            this.#timeout.unref();
        }
    }
    async #exportBatches(force = false) {
        if (this.#buffer.length === 0) {
            return;
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Exporting batches. Force: ${force}. Buffer size: ${this.#buffer.length}`);
        if (force || this.#buffer.length < this.#maxBatchSize) {
            const toExport = [
                ...this.#buffer
            ];
            this.#buffer = [];
            this.#exportInProgress = true;
            await this.#exporter.export(toExport);
            this.#exportInProgress = false;
        } else if (this.#buffer.length > 0) {
            const batch = this.#buffer.splice(0, this.#maxBatchSize);
            this.#exportInProgress = true;
            await this.#exporter.export(batch);
            this.#exportInProgress = false;
        }
    }
    async onTraceStart(trace) {
        await this.#safeAddItem(trace);
    }
    async onTraceEnd(_trace) {
    // We don't send traces on end because we already send them on start
    }
    async onSpanStart(_span) {
    // We don't send spans on start because we send them at the end
    }
    async onSpanEnd(span) {
        await this.#safeAddItem(span);
    }
    async shutdown(timeout) {
        if (timeout) {
            this.#timer.setTimeout(()=>{
                // force shutdown the HTTP request
                this.#timeoutAbortController?.abort();
            }, timeout);
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Shutting down gracefully');
        while(this.#buffer.length > 0){
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Waiting for buffer to empty. Items left: ${this.#buffer.length}`);
            if (!this.#exportInProgress) {
                // no current export in progress. Forcing all items to be exported
                await this.#exportBatches(true);
            }
            if (this.#timeoutAbortController?.signal.aborted) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Timeout reached, force flushing');
                await this.#exportBatches(true);
                break;
            }
            // using setTimeout to add to the event loop and keep this alive until done
            await new Promise((resolve)=>this.#timer.setTimeout(resolve, 500));
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Buffer empty. Exiting');
        if (this.#timer && this.#timeout) {
            // making sure there are no more requests
            this.#timer.clearTimeout(this.#timeout);
        }
    }
    async forceFlush() {
        if (this.#buffer.length > 0) {
            await this.#exportBatches(true);
        }
    }
}
class MultiTracingProcessor {
    #processors = [];
    start() {
        for (const processor of this.#processors){
            if (processor.start) {
                processor.start();
            }
        }
    }
    addTraceProcessor(processor) {
        this.#processors.push(processor);
    }
    setProcessors(processors) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Shutting down old processors');
        for (const processor of this.#processors){
            processor.shutdown();
        }
        this.#processors = processors;
    }
    async onTraceStart(trace) {
        for (const processor of this.#processors){
            await processor.onTraceStart(trace);
        }
    }
    async onTraceEnd(trace) {
        for (const processor of this.#processors){
            await processor.onTraceEnd(trace);
        }
    }
    async onSpanStart(span) {
        for (const processor of this.#processors){
            await processor.onSpanStart(span);
        }
    }
    async onSpanEnd(span) {
        for (const processor of this.#processors){
            await processor.onSpanEnd(span);
        }
    }
    async shutdown(timeout) {
        for (const processor of this.#processors){
            await processor.shutdown(timeout);
        }
    }
    async forceFlush() {
        for (const processor of this.#processors){
            await processor.forceFlush();
        }
    }
}
let _defaultExporter = null;
let _defaultProcessor = null;
function defaultExporter() {
    if (!_defaultExporter) {
        _defaultExporter = new ConsoleSpanExporter();
    }
    return _defaultExporter;
}
function defaultProcessor() {
    if (!_defaultProcessor) {
        _defaultProcessor = new BatchTraceProcessor(defaultExporter());
    }
    return _defaultProcessor;
} //# sourceMappingURL=processor.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/utils.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "generateGroupId",
    ()=>generateGroupId,
    "generateSpanId",
    ()=>generateSpanId,
    "generateTraceId",
    ()=>generateTraceId,
    "removePrivateFields",
    ()=>removePrivateFields,
    "timeIso",
    ()=>timeIso
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$crypto__$5b$external$5d$__$28$node$3a$crypto$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:crypto [external] (node:crypto, cjs)");
;
function timeIso() {
    return new Date().toISOString();
}
function generateTraceId() {
    return `trace_${(0, __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$crypto__$5b$external$5d$__$28$node$3a$crypto$2c$__cjs$29$__["randomUUID"])().replace(/-/g, '')}`;
}
function generateSpanId() {
    return `span_${(0, __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$crypto__$5b$external$5d$__$28$node$3a$crypto$2c$__cjs$29$__["randomUUID"])().replace(/-/g, '').slice(0, 24)}`;
}
function generateGroupId() {
    return `group_${(0, __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$crypto__$5b$external$5d$__$28$node$3a$crypto$2c$__cjs$29$__["randomUUID"])().replace(/-/g, '').slice(0, 24)}`;
}
function removePrivateFields(obj) {
    return Object.fromEntries(Object.entries(obj).filter(([key])=>!key.startsWith('_')));
} //# sourceMappingURL=utils.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/spans.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NoopSpan",
    ()=>NoopSpan,
    "Span",
    ()=>Span
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/utils.mjs [app-route] (ecmascript)");
;
;
class Span {
    type = 'trace.span';
    #data;
    #traceId;
    #spanId;
    #parentId;
    #processor;
    #startedAt;
    #endedAt;
    #error;
    #previousSpan;
    constructor(options, processor){
        this.#traceId = options.traceId;
        this.#spanId = options.spanId ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateSpanId"])();
        this.#data = options.data;
        this.#processor = processor;
        this.#parentId = options.parentId ?? null;
        this.#error = options.error ?? null;
        this.#startedAt = options.startedAt ?? null;
        this.#endedAt = options.endedAt ?? null;
    }
    get traceId() {
        return this.#traceId;
    }
    get spanData() {
        return this.#data;
    }
    get spanId() {
        return this.#spanId;
    }
    get parentId() {
        return this.#parentId;
    }
    get previousSpan() {
        return this.#previousSpan;
    }
    set previousSpan(span) {
        this.#previousSpan = span;
    }
    start() {
        if (this.#startedAt) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn('Span already started');
            return;
        }
        this.#startedAt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timeIso"])();
        this.#processor.onSpanStart(this);
    }
    end() {
        if (this.#endedAt) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Span already finished', this.spanData);
            return;
        }
        this.#endedAt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timeIso"])();
        this.#processor.onSpanEnd(this);
    }
    setError(error) {
        this.#error = error;
    }
    get error() {
        return this.#error;
    }
    get startedAt() {
        return this.#startedAt;
    }
    get endedAt() {
        return this.#endedAt;
    }
    clone() {
        const span = new Span({
            traceId: this.traceId,
            spanId: this.spanId,
            parentId: this.parentId ?? undefined,
            data: this.spanData,
            startedAt: this.#startedAt ?? undefined,
            endedAt: this.#endedAt ?? undefined,
            error: this.#error ?? undefined
        }, this.#processor);
        span.previousSpan = this.previousSpan?.clone();
        return span;
    }
    toJSON() {
        return {
            object: this.type,
            id: this.spanId,
            trace_id: this.traceId,
            parent_id: this.parentId,
            started_at: this.startedAt,
            ended_at: this.endedAt,
            span_data: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["removePrivateFields"])(this.spanData),
            error: this.error
        };
    }
}
class NoopSpan extends Span {
    constructor(data, processor){
        super({
            traceId: 'no-op',
            spanId: 'no-op',
            data
        }, processor);
    }
    start() {
        return;
    }
    end() {
        return;
    }
    setError() {
        return;
    }
    toJSON() {
        return null;
    }
} //# sourceMappingURL=spans.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/traces.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NoopTrace",
    ()=>NoopTrace,
    "Trace",
    ()=>Trace
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/processor.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/utils.mjs [app-route] (ecmascript)");
;
;
class Trace {
    type = 'trace';
    traceId;
    name;
    groupId = null;
    metadata;
    #processor;
    #started;
    constructor(options, processor){
        this.traceId = options.traceId ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateTraceId"])();
        this.name = options.name ?? 'Agent workflow';
        this.groupId = options.groupId ?? null;
        this.metadata = options.metadata ?? {};
        this.#processor = processor ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["defaultProcessor"])();
        this.#started = options.started ?? false;
    }
    async start() {
        if (this.#started) {
            return;
        }
        this.#started = true;
        await this.#processor.onTraceStart(this);
    }
    async end() {
        if (!this.#started) {
            return;
        }
        this.#started = false;
        await this.#processor.onTraceEnd(this);
    }
    clone() {
        return new Trace({
            traceId: this.traceId,
            name: this.name,
            groupId: this.groupId ?? undefined,
            metadata: this.metadata,
            started: this.#started
        });
    }
    toJSON() {
        return {
            object: this.type,
            id: this.traceId,
            workflow_name: this.name,
            group_id: this.groupId,
            metadata: this.metadata
        };
    }
}
class NoopTrace extends Trace {
    constructor(){
        super({});
    }
    async start() {
        return;
    }
    async end() {
        return;
    }
    toJSON() {
        return null;
    }
} //# sourceMappingURL=traces.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/provider.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TraceProvider",
    ()=>TraceProvider,
    "getGlobalTraceProvider",
    ()=>getGlobalTraceProvider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/config.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/processor.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/spans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/traces.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/utils.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
class TraceProvider {
    #multiProcessor;
    #disabled;
    constructor(){
        this.#multiProcessor = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["MultiTracingProcessor"]();
        this.#disabled = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["tracing"].disabled;
        this.#addCleanupListeners();
    }
    /**
     * Add a processor to the list of processors. Each processor will receive all traces/spans.
     *
     * @param processor - The processor to add.
     */ registerProcessor(processor) {
        this.#multiProcessor.addTraceProcessor(processor);
    }
    /**
     * Set the list of processors. This will replace any existing processors.
     *
     * @param processors - The list of processors to set.
     */ setProcessors(processors) {
        this.#multiProcessor.setProcessors(processors);
    }
    /**
     * Get the current trace.
     *
     * @returns The current trace.
     */ getCurrentTrace() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentTrace"])();
    }
    getCurrentSpan() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentSpan"])();
    }
    setDisabled(disabled) {
        this.#disabled = disabled;
    }
    startExportLoop() {
        this.#multiProcessor.start();
    }
    createTrace(traceOptions) {
        if (this.#disabled) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Tracing is disabled, Not creating trace %o', traceOptions);
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopTrace"]();
        }
        const traceId = traceOptions.traceId ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateTraceId"])();
        const name = traceOptions.name ?? 'Agent workflow';
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Creating trace %s with name %s', traceId, name);
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Trace"]({
            ...traceOptions,
            name,
            traceId
        }, this.#multiProcessor);
    }
    createSpan(spanOptions, parent) {
        if (this.#disabled || spanOptions.disabled) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Tracing is disabled, Not creating span %o', spanOptions);
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"](spanOptions.data, this.#multiProcessor);
        }
        let parentId;
        let traceId;
        if (!parent) {
            const currentTrace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentTrace"])();
            const currentSpan = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentSpan"])();
            if (!currentTrace) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].error('No active trace. Make sure to start a trace with `withTrace()` first. Returning NoopSpan.');
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"](spanOptions.data, this.#multiProcessor);
            }
            if (currentSpan instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"] || currentTrace instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopTrace"]) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Parent ${currentSpan} or ${currentTrace} is no-op, returning NoopSpan`);
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"](spanOptions.data, this.#multiProcessor);
            }
            traceId = currentTrace.traceId;
            if (currentSpan) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Using parent span %s', currentSpan.spanId);
                parentId = currentSpan.spanId;
            } else {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('No parent span, using current trace %s', currentTrace.traceId);
            }
        } else if (parent instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Trace"]) {
            if (parent instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopTrace"]) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Parent trace is no-op, returning NoopSpan');
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"](spanOptions.data, this.#multiProcessor);
            }
            traceId = parent.traceId;
        } else if (parent instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Span"]) {
            if (parent instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"]) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Parent span is no-op, returning NoopSpan');
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"](spanOptions.data, this.#multiProcessor);
            }
            parentId = parent.spanId;
            traceId = parent.traceId;
        }
        if (!traceId) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].error('No traceId found. Make sure to start a trace with `withTrace()` first. Returning NoopSpan.');
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"](spanOptions.data, this.#multiProcessor);
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Creating span ${JSON.stringify(spanOptions.data)} with id ${spanOptions.spanId ?? traceId}`);
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Span"]({
            ...spanOptions,
            traceId,
            parentId
        }, this.#multiProcessor);
    }
    async shutdown(timeout) {
        try {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Shutting down tracing provider');
            await this.#multiProcessor.shutdown(timeout);
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].error('Error shutting down tracing provider %o', error);
        }
    }
    /** Adds listeners to `process` to ensure `shutdown` occurs before exit. */ #addCleanupListeners() {
        if (typeof process !== 'undefined' && typeof process.on === 'function') {
            // handling Node.js process termination
            const cleanup = async ()=>{
                const timeout = setTimeout(()=>{
                    console.warn('Cleanup timeout, forcing exit');
                    process.exit(1);
                }, 5000);
                try {
                    await this.shutdown();
                } finally{
                    clearTimeout(timeout);
                }
            };
            // Handle normal termination
            process.on('beforeExit', cleanup);
            // Handle CTRL+C (SIGINT)
            process.on('SIGINT', async ()=>{
                await cleanup();
                if (!hasOtherListenersForSignals('SIGINT')) {
                    // Only when there are no other listeners, exit the process on this SDK side
                    process.exit(130);
                }
            });
            // Handle termination (SIGTERM)
            process.on('SIGTERM', async ()=>{
                await cleanup();
                if (!hasOtherListenersForSignals('SIGTERM')) {
                    // Only when there are no other listeners, exit the process on this SDK side
                    process.exit(0);
                }
            });
            process.on('unhandledRejection', async (reason, promise)=>{
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].error('Unhandled rejection', reason, promise);
                await cleanup();
                if (!hasOtherListenersForEvents('unhandledRejection')) {
                    // Only when there are no other listeners, exit the process on this SDK side
                    process.exit(1);
                }
            });
        }
    }
    async forceFlush() {
        await this.#multiProcessor.forceFlush();
    }
}
function hasOtherListenersForSignals(event) {
    return process.listeners(event).length > 1;
}
function hasOtherListenersForEvents(event) {
    return process.listeners(event).length > 1;
}
let GLOBAL_TRACE_PROVIDER = undefined;
function getGlobalTraceProvider() {
    if (!GLOBAL_TRACE_PROVIDER) {
        GLOBAL_TRACE_PROVIDER = new TraceProvider();
    }
    return GLOBAL_TRACE_PROVIDER;
} //# sourceMappingURL=provider.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "addTraceProcessor",
    ()=>addTraceProcessor,
    "setTraceProcessors",
    ()=>setTraceProcessors,
    "setTracingDisabled",
    ()=>setTracingDisabled,
    "startTraceExportLoop",
    ()=>startTraceExportLoop
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/provider.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/createSpans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/processor.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/spans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/traces.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/utils.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
function addTraceProcessor(processor) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().registerProcessor(processor);
}
function setTraceProcessors(processors) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().setProcessors(processors);
}
function setTracingDisabled(disabled) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().setDisabled(disabled);
}
function startTraceExportLoop() {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().startExportLoop();
} //# sourceMappingURL=index.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/lifecycle.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AgentHooks",
    ()=>AgentHooks,
    "EventEmitterDelegate",
    ()=>EventEmitterDelegate,
    "RunHooks",
    ()=>RunHooks
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$events__$5b$external$5d$__$28$node$3a$events$2c$__cjs$29$__$3c$export__EventEmitter__as__RuntimeEventEmitter$3e$__ = __turbopack_context__.i("[externals]/node:events [external] (node:events, cjs) <export EventEmitter as RuntimeEventEmitter>");
;
class EventEmitterDelegate {
    on(type, listener) {
        this.eventEmitter.on(type, listener);
        return this.eventEmitter;
    }
    off(type, listener) {
        this.eventEmitter.off(type, listener);
        return this.eventEmitter;
    }
    emit(type, ...args) {
        return this.eventEmitter.emit(type, ...args);
    }
    once(type, listener) {
        this.eventEmitter.once(type, listener);
        return this.eventEmitter;
    }
}
class AgentHooks extends EventEmitterDelegate {
    eventEmitter = new __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$events__$5b$external$5d$__$28$node$3a$events$2c$__cjs$29$__$3c$export__EventEmitter__as__RuntimeEventEmitter$3e$__["RuntimeEventEmitter"]();
}
class RunHooks extends EventEmitterDelegate {
    eventEmitter = new __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$events__$5b$external$5d$__$28$node$3a$events$2c$__cjs$29$__$3c$export__EventEmitter__as__RuntimeEventEmitter$3e$__["RuntimeEventEmitter"]();
} //# sourceMappingURL=lifecycle.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/defaultModel.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "OPENAI_DEFAULT_MODEL_ENV_VARIABLE_NAME",
    ()=>OPENAI_DEFAULT_MODEL_ENV_VARIABLE_NAME,
    "getDefaultModel",
    ()=>getDefaultModel,
    "getDefaultModelSettings",
    ()=>getDefaultModelSettings,
    "gpt5ReasoningSettingsRequired",
    ()=>gpt5ReasoningSettingsRequired,
    "isGpt5Default",
    ()=>isGpt5Default
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/config.mjs [app-route] (ecmascript)");
;
const OPENAI_DEFAULT_MODEL_ENV_VARIABLE_NAME = 'OPENAI_DEFAULT_MODEL';
function gpt5ReasoningSettingsRequired(modelName) {
    if (modelName.startsWith('gpt-5-chat')) {
        // gpt-5-chat-latest does not require reasoning settings
        return false;
    }
    // matches any of gpt-5 models
    return modelName.startsWith('gpt-5');
}
function isGpt5Default() {
    return gpt5ReasoningSettingsRequired(getDefaultModel());
}
function getDefaultModel() {
    const env = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$config$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["loadEnv"])();
    return env[OPENAI_DEFAULT_MODEL_ENV_VARIABLE_NAME]?.toLowerCase() ?? 'gpt-4.1';
}
function getDefaultModelSettings(model) {
    const _model = model ?? getDefaultModel();
    if (gpt5ReasoningSettingsRequired(_model)) {
        return {
            providerData: {
                // We chose "low" instead of "minimal" because some of the built-in tools
                // (e.g., file search, image generation, etc.) do not support "minimal"
                // If you want to use "minimal" reasoning effort, you can pass your own model settings
                reasoning: {
                    effort: 'low'
                },
                text: {
                    verbosity: 'low'
                }
            }
        };
    }
    return {};
} //# sourceMappingURL=defaultModel.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/guardrail.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Defines an input guardrail definition.
 */ __turbopack_context__.s([
    "defineInputGuardrail",
    ()=>defineInputGuardrail,
    "defineOutputGuardrail",
    ()=>defineOutputGuardrail
]);
function defineInputGuardrail({ name, execute }) {
    return {
        type: 'input',
        name,
        guardrailFunction: execute,
        async run (args) {
            return {
                guardrail: {
                    type: 'input',
                    name
                },
                output: await execute(args)
            };
        }
    };
}
function defineOutputGuardrail({ name, execute }) {
    return {
        type: 'output',
        name,
        guardrailFunction: execute,
        async run (args) {
            return {
                guardrail: {
                    type: 'output',
                    name
                },
                agent: args.agent,
                agentOutput: args.agentOutput,
                output: await execute(args)
            };
        }
    };
} //# sourceMappingURL=guardrail.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/handoff.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Handoff",
    ()=>Handoff,
    "getHandoff",
    ()=>getHandoff,
    "getTransferMessage",
    ()=>getTransferMessage,
    "handoff",
    ()=>handoff
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/tools.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
;
;
;
;
;
function getTransferMessage(agent) {
    return JSON.stringify({
        assistant: agent.name
    });
}
/**
 * The default name of the tool that represents the handoff.
 *
 * @param agent The agent to transfer to
 * @returns The name of the tool that represents the handoff
 */ function defaultHandoffToolName(agent) {
    return `transfer_to_${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toFunctionToolName"])(agent.name)}`;
}
/**
 * Generates the description of the tool that represents the handoff.
 *
 * @param agent The agent to transfer to
 * @returns The description of the tool that represents the handoff
 */ function defaultHandoffToolDescription(agent) {
    return `Handoff to the ${agent.name} agent to handle the request. ${agent.handoffDescription ?? ''}`;
}
class Handoff {
    /**
     * The name of the tool that represents the handoff.
     */ toolName;
    /**
     * The description of the tool that represents the handoff.
     */ toolDescription;
    /**
     * The JSON schema for the handoff input. Can be empty if the handoff does not take an input
     */ inputJsonSchema = {
        type: 'object',
        properties: {},
        required: [],
        additionalProperties: false
    };
    /**
     * Whether the input JSON schema is in strict mode. We **strongly** recommend setting this to
     * true, as it increases the likelihood of correct JSON input.
     */ strictJsonSchema = true;
    /**
     * The function that invokes the handoff. The parameters passed are:
     * 1. The handoff run context
     * 2. The arguments from the LLM, as a JSON string. Empty string if inputJsonSchema is empty.
     *
     * Must return an agent
     */ onInvokeHandoff;
    /**
     * The name of the agent that is being handed off to.
     */ agentName;
    /**
     * A function that filters the inputs that are passed to the next agent. By default, the new agent
     * sees the entire conversation history. In some cases, you may want to filter inputs e.g. to
     * remove older inputs, or remove tools from existing inputs.
     *
     * The function will receive the entire conversation hisstory so far, including the input item
     * that triggered the handoff and a tool call output item representing the handoff tool's output.
     *
     * You are free to modify the input history or new items as you see fit. The next agent that runs
     * will receive `handoffInputData.allItems
     */ inputFilter;
    /**
     * The agent that is being handed off to.
     */ agent;
    /**
     * Returns a function tool definition that can be used to invoke the handoff.
     */ getHandoffAsFunctionTool() {
        return {
            type: 'function',
            name: this.toolName,
            description: this.toolDescription,
            parameters: this.inputJsonSchema,
            strict: this.strictJsonSchema
        };
    }
    constructor(agent, onInvokeHandoff){
        this.agentName = agent.name;
        this.onInvokeHandoff = onInvokeHandoff;
        this.toolName = defaultHandoffToolName(agent);
        this.toolDescription = defaultHandoffToolDescription(agent);
        this.agent = agent;
    }
}
function handoff(agent, config = {}) {
    let parser = undefined;
    const hasOnHandoff = !!config.onHandoff;
    const hasInputType = !!config.inputType;
    const hasBothOrNeitherHandoffAndInputType = hasOnHandoff === hasInputType;
    if (!hasBothOrNeitherHandoffAndInputType) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"]('You must provide either both `onHandoff` and `inputType` or neither.');
    }
    async function onInvokeHandoff(context, inputJsonString) {
        if (parser) {
            if (!inputJsonString) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addErrorToCurrentSpan"])({
                    message: `Handoff function expected non empty input but got: ${inputJsonString}`,
                    data: {
                        details: `input is empty`
                    }
                });
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"]('Handoff function expected non empty input');
            }
            try {
                // verify that it's valid input but we don't care about the result
                const parsed = await parser(inputJsonString);
                if (config.onHandoff) {
                    await config.onHandoff(context, parsed);
                }
            } catch (error) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addErrorToCurrentSpan"])({
                    message: `Invalid JSON provided`,
                    data: {}
                });
                if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].dontLogToolData) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].error(`Invalid JSON when parsing: ${inputJsonString}. Error: ${error}`);
                }
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"]('Invalid JSON provided');
            }
        } else {
            await config.onHandoff?.(context);
        }
        return agent;
    }
    const handoff1 = new Handoff(agent, onInvokeHandoff);
    if (config.inputType) {
        const result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getSchemaAndParserFromInputType"])(config.inputType, handoff1.toolName);
        handoff1.inputJsonSchema = result.schema;
        handoff1.strictJsonSchema = true;
        parser = result.parser;
    }
    if (config.toolNameOverride) {
        handoff1.toolName = config.toolNameOverride;
    }
    if (config.toolDescriptionOverride) {
        handoff1.toolDescription = config.toolDescriptionOverride;
    }
    if (config.inputFilter) {
        handoff1.inputFilter = config.inputFilter;
    }
    return handoff1;
}
function getHandoff(agent) {
    if (agent instanceof Handoff) {
        return agent;
    }
    return handoff(agent);
} //# sourceMappingURL=handoff.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/providers.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getDefaultModelProvider",
    ()=>getDefaultModelProvider,
    "setDefaultModelProvider",
    ()=>setDefaultModelProvider
]);
let DEFAULT_PROVIDER;
function setDefaultModelProvider(provider) {
    DEFAULT_PROVIDER = provider;
}
function getDefaultModelProvider() {
    if (typeof DEFAULT_PROVIDER === 'undefined') {
        throw new Error('No default model provider set. Make sure to set a provider using setDefaultModelProvider before calling getDefaultModelProvider or pass an explicit provider.');
    }
    return DEFAULT_PROVIDER;
} //# sourceMappingURL=providers.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/types/protocol.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AssistantContent",
    ()=>AssistantContent,
    "AssistantMessageItem",
    ()=>AssistantMessageItem,
    "AudioContent",
    ()=>AudioContent,
    "ComputerCallResultItem",
    ()=>ComputerCallResultItem,
    "ComputerToolOutput",
    ()=>ComputerToolOutput,
    "ComputerUseCallItem",
    ()=>ComputerUseCallItem,
    "FunctionCallItem",
    ()=>FunctionCallItem,
    "FunctionCallResultItem",
    ()=>FunctionCallResultItem,
    "HostedToolCallItem",
    ()=>HostedToolCallItem,
    "ImageContent",
    ()=>ImageContent,
    "InputFile",
    ()=>InputFile,
    "InputImage",
    ()=>InputImage,
    "InputText",
    ()=>InputText,
    "ItemBase",
    ()=>ItemBase,
    "MessageItem",
    ()=>MessageItem,
    "ModelItem",
    ()=>ModelItem,
    "OutputModelItem",
    ()=>OutputModelItem,
    "OutputText",
    ()=>OutputText,
    "ReasoningItem",
    ()=>ReasoningItem,
    "ReasoningText",
    ()=>ReasoningText,
    "Refusal",
    ()=>Refusal,
    "SharedBase",
    ()=>SharedBase,
    "StreamEvent",
    ()=>StreamEvent,
    "StreamEventGenericItem",
    ()=>StreamEventGenericItem,
    "StreamEventResponseCompleted",
    ()=>StreamEventResponseCompleted,
    "StreamEventResponseStarted",
    ()=>StreamEventResponseStarted,
    "StreamEventTextStream",
    ()=>StreamEventTextStream,
    "ToolCallItem",
    ()=>ToolCallItem,
    "ToolOutputImage",
    ()=>ToolOutputImage,
    "ToolOutputText",
    ()=>ToolOutputText,
    "UnknownItem",
    ()=>UnknownItem,
    "UsageData",
    ()=>UsageData,
    "UserContent",
    ()=>UserContent,
    "UserMessageItem",
    ()=>UserMessageItem,
    "computerActions",
    ()=>computerActions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/zod/v3/external.js [app-route] (ecmascript) <export * as z>");
;
const SharedBase = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    /**
     * Additional optional provider specific data. Used for custom functionality or model provider
     * specific fields.
     */ providerData: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()).optional()
});
const ItemBase = SharedBase.extend({
    /**
     * An ID to identify the item. This is optional by default. If a model provider absolutely
     * requires this field, it will be validated on the model level.
     */ id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
});
const Refusal = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('refusal'),
    /**
     * The refusal explanation from the model.
     */ refusal: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const OutputText = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('output_text'),
    /**
     * The text output from the model.
     */ text: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const InputText = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('input_text'),
    /**
     * A text input for example a message from a user
     */ text: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const ReasoningText = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('reasoning_text'),
    /**
     * A text input for example a message from a user
     */ text: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const InputImage = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('input_image'),
    /**
     * The image input to the model. Could be a URL, base64 or an object with a file ID.
     */ image: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
    })).describe('Could be a URL, base64 or an object with a file ID.')
});
const InputFile = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('input_file'),
    /**
     * The file input to the model. Could be a URL, base64 or an object with a file ID.
     */ file: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('Either base64 encoded file data or a publicly accessible file URL').or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('OpenAI file ID')
    })).or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        url: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('Publicly accessible PDF file URL')
    })).describe('Contents of the file or an object with a file ID.')
});
const AudioContent = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('audio'),
    /**
     * The audio input to the model. Could be base64 encoded audio data or an object with a file ID.
     */ audio: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
    })).describe('Base64 encoded audio data or file id'),
    /**
     * The format of the audio.
     */ format: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().nullable().optional(),
    /**
     * The transcript of the audio.
     */ transcript: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().nullable().optional()
});
const ImageContent = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('image'),
    /**
     * The image input to the model. Could be base64 encoded image data or an object with a file ID.
     */ image: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('Base64 encoded image data')
});
const ToolOutputText = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('text'),
    /**
     * The text output from the model.
     */ text: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const ToolOutputImage = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('image'),
    /**
     * The image data. Could be base64 encoded image data or an object with a file ID.
     */ data: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('Base64 encoded image data'),
    /**
     * The media type of the image.
     */ mediaType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('IANA media type of the image')
});
const ComputerToolOutput = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('computer_screenshot'),
    /**
     * A base64 encoded image data or a URL representing the screenshot.
     */ data: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('Base64 encoded image data or URL')
});
const computerActions = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('screenshot')
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('click'),
        x: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
        y: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
        button: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].enum([
            'left',
            'right',
            'wheel',
            'back',
            'forward'
        ])
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('double_click'),
        x: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
        y: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number()
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('scroll'),
        x: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
        y: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
        scroll_x: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
        scroll_y: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number()
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('type'),
        text: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('wait')
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('move'),
        x: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
        y: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number()
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('keypress'),
        keys: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string())
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('drag'),
        path: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
            x: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
            y: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number()
        }))
    })
]);
const AssistantContent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    OutputText,
    Refusal,
    AudioContent,
    ImageContent
]);
const MessageBase = ItemBase.extend({
    /**
     * Any item without a type is treated as a message
     */ type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('message').optional()
});
const AssistantMessageItem = MessageBase.extend({
    /**
     * Representing a message from the assistant (i.e. the model)
     */ role: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('assistant'),
    /**
     * The status of the message.
     */ status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].enum([
        'in_progress',
        'completed',
        'incomplete'
    ]),
    /**
     * The content of the message.
     */ content: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(AssistantContent)
});
const UserContent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    InputText,
    InputImage,
    InputFile,
    AudioContent
]);
const UserMessageItem = MessageBase.extend({
    // type: z.literal('message'),
    /**
     * Representing a message from the user
     */ role: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('user'),
    /**
     * The content of the message.
     */ content: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(UserContent).or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string())
});
const SystemMessageItem = MessageBase.extend({
    // type: z.literal('message'),
    /**
     * Representing a system message to the user
     */ role: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('system'),
    /**
     * The content of the message.
     */ content: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const MessageItem = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('role', [
    SystemMessageItem,
    AssistantMessageItem,
    UserMessageItem
]);
const HostedToolCallItem = ItemBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('hosted_tool_call'),
    /**
     * The name of the hosted tool. For example `web_search_call` or `file_search_call`
     */ name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The name of the hosted tool'),
    /**
     * The arguments of the hosted tool call.
     */ arguments: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The arguments of the hosted tool call').optional(),
    /**
     * The status of the tool call.
     */ status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    /**
     * The primary output of the tool call. Additional output might be in the `providerData` field.
     */ output: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
});
const FunctionCallItem = ItemBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('function_call'),
    /**
     * The ID of the tool call. Required to match up the respective tool call result.
     */ callId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The ID of the tool call'),
    /**
     * The name of the function.
     */ name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The name of the function'),
    /**
     * The status of the function call.
     */ status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].enum([
        'in_progress',
        'completed',
        'incomplete'
    ]).optional(),
    /**
     * The arguments of the function call.
     */ arguments: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const FunctionCallResultItem = ItemBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('function_call_result'),
    /**
     * The name of the tool that was called
     */ name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The name of the tool'),
    /**
     * The ID of the tool call. Required to match up the respective tool call result.
     */ callId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The ID of the tool call'),
    /**
     * The status of the tool call.
     */ status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].enum([
        'in_progress',
        'completed',
        'incomplete'
    ]),
    /**
     * The output of the tool call.
     */ output: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
        ToolOutputText,
        ToolOutputImage
    ])
});
const ComputerUseCallItem = ItemBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('computer_call'),
    /**
     * The ID of the computer call. Required to match up the respective computer call result.
     */ callId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The ID of the computer call'),
    /**
     * The status of the computer call.
     */ status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].enum([
        'in_progress',
        'completed',
        'incomplete'
    ]),
    /**
     * The action to be performed by the computer.
     */ action: computerActions
});
const ComputerCallResultItem = ItemBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('computer_call_result'),
    /**
     * The ID of the computer call. Required to match up the respective computer call result.
     */ callId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().describe('The ID of the computer call'),
    /**
     * The output of the computer call.
     */ output: ComputerToolOutput
});
const ToolCallItem = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    ComputerUseCallItem,
    FunctionCallItem,
    HostedToolCallItem
]);
const ReasoningItem = SharedBase.extend({
    id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('reasoning'),
    /**
     * The user facing representation of the reasoning. Additional information might be in the `providerData` field.
     */ content: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(InputText),
    /**
     * The raw reasoning text from the model.
     */ rawContent: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(ReasoningText).optional()
});
const UnknownItem = ItemBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('unknown')
});
const OutputModelItem = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    AssistantMessageItem,
    HostedToolCallItem,
    FunctionCallItem,
    ComputerUseCallItem,
    ReasoningItem,
    UnknownItem
]);
const ModelItem = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].union([
    UserMessageItem,
    AssistantMessageItem,
    SystemMessageItem,
    HostedToolCallItem,
    FunctionCallItem,
    ComputerUseCallItem,
    FunctionCallResultItem,
    ComputerCallResultItem,
    ReasoningItem,
    UnknownItem
]);
const UsageData = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    requests: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number().optional(),
    inputTokens: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    outputTokens: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    totalTokens: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    inputTokensDetails: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number()).optional(),
    outputTokensDetails: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number()).optional()
});
const StreamEventTextStream = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('output_text_delta'),
    /**
     * The delta text that was streamed by the modelto the user.
     */ delta: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const StreamEventResponseStarted = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('response_started')
});
const StreamEventResponseCompleted = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('response_done'),
    /**
     * The response from the model.
     */ response: SharedBase.extend({
        /**
         * The ID of the response.
         */ id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
        /**
         * The usage data for the response.
         */ usage: UsageData,
        /**
         * The output from the model.
         */ output: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(OutputModelItem)
    })
});
const StreamEventGenericItem = SharedBase.extend({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('model'),
    event: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any().describe('The event from the model')
});
const StreamEvent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    StreamEventTextStream,
    StreamEventResponseCompleted,
    StreamEventResponseStarted,
    StreamEventGenericItem
]); //# sourceMappingURL=protocol.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/usage.mjs [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Usage",
    ()=>Usage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/types/protocol.mjs [app-route] (ecmascript)");
;
class Usage {
    /**
     * The number of requests made to the LLM API.
     */ requests;
    /**
     * The number of input tokens used across all requests.
     */ inputTokens;
    /**
     * The number of output tokens used across all requests.
     */ outputTokens;
    /**
     * The total number of tokens sent and received, across all requests.
     */ totalTokens;
    /**
     * Details about the input tokens used across all requests.
     */ inputTokensDetails = [];
    /**
     * Details about the output tokens used across all requests.
     */ outputTokensDetails = [];
    constructor(input){
        if (typeof input === 'undefined') {
            this.requests = 0;
            this.inputTokens = 0;
            this.outputTokens = 0;
            this.totalTokens = 0;
            this.inputTokensDetails = [];
            this.outputTokensDetails = [];
        } else {
            this.requests = input?.requests ?? 1;
            this.inputTokens = input?.inputTokens ?? input?.input_tokens ?? 0;
            this.outputTokens = input?.outputTokens ?? input?.output_tokens ?? 0;
            this.totalTokens = input?.totalTokens ?? input?.total_tokens ?? 0;
            const inputTokensDetails = input?.inputTokensDetails ?? input?.input_tokens_details;
            this.inputTokensDetails = inputTokensDetails ? [
                inputTokensDetails
            ] : [];
            const outputTokensDetails = input?.outputTokensDetails ?? input?.output_tokens_details;
            this.outputTokensDetails = outputTokensDetails ? [
                outputTokensDetails
            ] : [];
        }
    }
    add(newUsage) {
        this.requests += newUsage.requests;
        this.inputTokens += newUsage.inputTokens;
        this.outputTokens += newUsage.outputTokens;
        this.totalTokens += newUsage.totalTokens;
        if (newUsage.inputTokensDetails) {
            // The type does not allow undefined, but it could happen runtime
            this.inputTokensDetails.push(...newUsage.inputTokensDetails);
        }
        if (newUsage.outputTokensDetails) {
            // The type does not allow undefined, but it could happen runtime
            this.outputTokensDetails.push(...newUsage.outputTokensDetails);
        }
    }
}
;
 //# sourceMappingURL=usage.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/runContext.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "RunContext",
    ()=>RunContext
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/usage.mjs [app-route] (ecmascript) <locals>");
;
;
class RunContext {
    /**
     * The context object you passed to the `Runner.run()` method.
     */ context;
    /**
     * The usage of the agent run so far. For streamed responses, the usage will be stale until the
     * last chunk of the stream is processed.
     */ usage;
    /**
     * A map of tool names to whether they have been approved.
     */ #approvals;
    constructor(context = {}){
        this.context = context;
        this.usage = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Usage"]();
        this.#approvals = new Map();
    }
    /**
     * Rebuild the approvals map from a serialized state.
     * @internal
     *
     * @param approvals - The approvals map to rebuild.
     */ _rebuildApprovals(approvals) {
        this.#approvals = new Map(Object.entries(approvals));
    }
    /**
     * Check if a tool call has been approved.
     *
     * @param toolName - The name of the tool.
     * @param callId - The call ID of the tool call.
     * @returns `true` if the tool call has been approved, `false` if blocked and `undefined` if not yet approved or rejected.
     */ isToolApproved({ toolName, callId }) {
        const approvalEntry = this.#approvals.get(toolName);
        if (approvalEntry?.approved === true && approvalEntry.rejected === true) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn('Tool is permanently approved and rejected at the same time. Approval takes precedence');
            return true;
        }
        if (approvalEntry?.approved === true) {
            return true;
        }
        if (approvalEntry?.rejected === true) {
            return false;
        }
        const individualCallApproval = Array.isArray(approvalEntry?.approved) ? approvalEntry.approved.includes(callId) : false;
        const individualCallRejection = Array.isArray(approvalEntry?.rejected) ? approvalEntry.rejected.includes(callId) : false;
        if (individualCallApproval && individualCallRejection) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn(`Tool call ${callId} is both approved and rejected at the same time. Approval takes precedence`);
            return true;
        }
        if (individualCallApproval) {
            return true;
        }
        if (individualCallRejection) {
            return false;
        }
        return undefined;
    }
    /**
     * Approve a tool call.
     *
     * @param toolName - The name of the tool.
     * @param callId - The call ID of the tool call.
     */ approveTool(approvalItem, { alwaysApprove = false } = {}) {
        const toolName = approvalItem.rawItem.name;
        if (alwaysApprove) {
            this.#approvals.set(toolName, {
                approved: true,
                rejected: []
            });
            return;
        }
        const approvalEntry = this.#approvals.get(toolName) ?? {
            approved: [],
            rejected: []
        };
        if (Array.isArray(approvalEntry.approved)) {
            // function tool has call_id, hosted tool call has id
            const callId = 'callId' in approvalItem.rawItem ? approvalItem.rawItem.callId // function tools
             : approvalItem.rawItem.id; // hosted tools
            approvalEntry.approved.push(callId);
        }
        this.#approvals.set(toolName, approvalEntry);
    }
    /**
     * Reject a tool call.
     *
     * @param approvalItem - The tool approval item to reject.
     */ rejectTool(approvalItem, { alwaysReject = false } = {}) {
        const toolName = approvalItem.rawItem.name;
        if (alwaysReject) {
            this.#approvals.set(toolName, {
                approved: false,
                rejected: true
            });
            return;
        }
        const approvalEntry = this.#approvals.get(toolName) ?? {
            approved: [],
            rejected: []
        };
        if (Array.isArray(approvalEntry.rejected)) {
            // function tool has call_id, hosted tool call has id
            const callId = 'callId' in approvalItem.rawItem ? approvalItem.rawItem.callId // function tools
             : approvalItem.rawItem.id; // hosted tools
            approvalEntry.rejected.push(callId);
        }
        this.#approvals.set(toolName, approvalEntry);
    }
    toJSON() {
        return {
            context: this.context,
            usage: this.usage,
            approvals: Object.fromEntries(this.#approvals.entries())
        };
    }
} //# sourceMappingURL=runContext.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/result.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "RunResult",
    ()=>RunResult,
    "StreamedRunResult",
    ()=>StreamedRunResult
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$stream$2f$web__$5b$external$5d$__$28$node$3a$stream$2f$web$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:stream/web [external] (node:stream/web, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$stream__$5b$external$5d$__$28$node$3a$stream$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:stream [external] (node:stream, cjs)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/run.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/types/protocol.mjs [app-route] (ecmascript)");
;
;
;
;
class RunResultBase {
    state;
    constructor(state){
        this.state = state;
    }
    /**
     * The history of the agent run. This includes the input items and the new items generated during
     * the agent run.
     *
     * This can be used as inputs for the next agent run.
     */ get history() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getTurnInput"])(this.input, this.newItems);
    }
    /**
     * The new items generated during the agent run. These include things like new messages, tool
     * calls and their outputs, etc.
     *
     * It does not include information about the agents and instead represents the model data.
     *
     * For the output including the agents, use the `newItems` property.
     */ get output() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getTurnInput"])([], this.newItems);
    }
    /**
     * A copy of the original input items.
     */ get input() {
        return this.state._originalInput;
    }
    /**
     * The run items generated during the agent run. This associates the model data with the agents.
     *
     * For the model data that can be used as inputs for the next agent run, use the `output` property.
     */ get newItems() {
        return this.state._generatedItems;
    }
    /**
     * The raw LLM responses generated by the model during the agent run.
     */ get rawResponses() {
        return this.state._modelResponses;
    }
    /**
     * The last response ID generated by the model during the agent run.
     */ get lastResponseId() {
        const responses = this.rawResponses;
        return responses && responses.length > 0 ? responses[responses.length - 1].responseId : undefined;
    }
    /**
     * The last agent that was run
     */ get lastAgent() {
        return this.state._currentAgent;
    }
    /**
     * Guardrail results for the input messages.
     */ get inputGuardrailResults() {
        return this.state._inputGuardrailResults;
    }
    /**
     * Guardrail results for the final output of the agent.
     */ get outputGuardrailResults() {
        return this.state._outputGuardrailResults;
    }
    /**
     * Any interruptions that occurred during the agent run for example for tool approvals.
     */ get interruptions() {
        if (this.state._currentStep?.type === 'next_step_interruption') {
            return this.state._currentStep.data.interruptions;
        }
        return [];
    }
    /**
     * The final output of the agent. If the output type was set to anything other than `text`,
     * this will be parsed either as JSON or using the Zod schema you provided.
     */ get finalOutput() {
        if (this.state._currentStep?.type === 'next_step_final_output') {
            return this.state._currentAgent.processFinalOutput(this.state._currentStep.output);
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn('Accessed finalOutput before agent run is completed.');
        return undefined;
    }
}
class RunResult extends RunResultBase {
    constructor(state){
        super(state);
    }
}
class StreamedRunResult extends RunResultBase {
    /**
     * The current agent that is running
     */ get currentAgent() {
        return this.lastAgent;
    }
    /**
     * The current turn number
     */ currentTurn = 0;
    /**
     * The maximum number of turns that can be run
     */ maxTurns;
    #error = null;
    #signal;
    #readableController;
    #readableStream;
    #completedPromise;
    #completedPromiseResolve;
    #completedPromiseReject;
    #cancelled = false;
    constructor(result = {}){
        super(result.state);
        this.#signal = result.signal;
        if (this.#signal) {
            this.#signal.addEventListener('abort', async ()=>{
                await this.#readableStream.cancel();
            });
        }
        this.#readableStream = new __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$stream$2f$web__$5b$external$5d$__$28$node$3a$stream$2f$web$2c$__cjs$29$__["ReadableStream"]({
            start: (controller)=>{
                this.#readableController = controller;
            },
            cancel: ()=>{
                this.#cancelled = true;
            }
        });
        this.#completedPromise = new Promise((resolve, reject)=>{
            this.#completedPromiseResolve = resolve;
            this.#completedPromiseReject = reject;
        });
    }
    /**
     * @internal
     * Adds an item to the stream of output items
     */ _addItem(item) {
        if (!this.cancelled) {
            this.#readableController?.enqueue(item);
        }
    }
    /**
     * @internal
     * Indicates that the stream has been completed
     */ _done() {
        if (!this.cancelled && this.#readableController) {
            this.#readableController.close();
            this.#readableController = undefined;
            this.#completedPromiseResolve?.();
        }
    }
    /**
     * @internal
     * Handles an error in the stream loop.
     */ _raiseError(err) {
        if (!this.cancelled && this.#readableController) {
            this.#readableController.error(err);
            this.#readableController = undefined;
        }
        this.#error = err;
        this.#completedPromiseReject?.(err);
        this.#completedPromise.catch((e)=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Resulted in an error: ${e}`);
        });
    }
    /**
     * Returns true if the stream has been cancelled.
     */ get cancelled() {
        return this.#cancelled;
    }
    /**
     * Returns the underlying readable stream.
     * @returns A readable stream of the agent run.
     */ toStream() {
        return this.#readableStream;
    }
    /**
     * Await this promise to ensure that the stream has been completed if you are not consuming the
     * stream directly.
     */ get completed() {
        return this.#completedPromise;
    }
    /**
     * Error thrown during the run, if any.
     */ get error() {
        return this.#error;
    }
    toTextStream(options = {}) {
        const stream = this.#readableStream.pipeThrough(new __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$stream$2f$web__$5b$external$5d$__$28$node$3a$stream$2f$web$2c$__cjs$29$__["TransformStream"]({
            transform (event, controller) {
                if (event.type === 'raw_model_stream_event' && event.data.type === 'output_text_delta') {
                    const item = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["StreamEventTextStream"].parse(event.data);
                    controller.enqueue(item.delta);
                }
            }
        }));
        if (options.compatibleWithNodeStreams) {
            return __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$stream__$5b$external$5d$__$28$node$3a$stream$2c$__cjs$29$__["Readable"].fromWeb(stream);
        }
        return stream;
    }
    [Symbol.asyncIterator]() {
        return this.#readableStream[Symbol.asyncIterator]();
    }
} //# sourceMappingURL=result.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/utils/serialize.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "serializeHandoff",
    ()=>serializeHandoff,
    "serializeTool",
    ()=>serializeTool
]);
function serializeTool(tool) {
    if (tool.type === 'function') {
        return {
            type: 'function',
            name: tool.name,
            description: tool.description,
            parameters: tool.parameters,
            strict: tool.strict
        };
    }
    if (tool.type === 'computer') {
        return {
            type: 'computer',
            name: tool.name,
            environment: tool.computer.environment,
            dimensions: tool.computer.dimensions
        };
    }
    return {
        type: 'hosted_tool',
        name: tool.name,
        providerData: tool.providerData
    };
}
function serializeHandoff(h) {
    return {
        toolName: h.toolName,
        toolDescription: h.toolDescription,
        inputJsonSchema: h.inputJsonSchema,
        strictJsonSchema: h.strictJsonSchema
    };
} //# sourceMappingURL=serialize.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/items.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "RunHandoffCallItem",
    ()=>RunHandoffCallItem,
    "RunHandoffOutputItem",
    ()=>RunHandoffOutputItem,
    "RunItemBase",
    ()=>RunItemBase,
    "RunMessageOutputItem",
    ()=>RunMessageOutputItem,
    "RunReasoningItem",
    ()=>RunReasoningItem,
    "RunToolApprovalItem",
    ()=>RunToolApprovalItem,
    "RunToolCallItem",
    ()=>RunToolCallItem,
    "RunToolCallOutputItem",
    ()=>RunToolCallOutputItem,
    "extractAllTextOutput",
    ()=>extractAllTextOutput
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/smartString.mjs [app-route] (ecmascript)");
;
class RunItemBase {
    type = 'base_item';
    rawItem;
    toJSON() {
        return {
            type: this.type,
            rawItem: this.rawItem
        };
    }
}
class RunMessageOutputItem extends RunItemBase {
    rawItem;
    agent;
    type = 'message_output_item';
    constructor(rawItem, agent){
        super();
        this.rawItem = rawItem;
        this.agent = agent;
    }
    toJSON() {
        return {
            ...super.toJSON(),
            agent: this.agent.toJSON()
        };
    }
    get content() {
        let content = '';
        for (const part of this.rawItem.content){
            if (part.type === 'output_text') {
                content += part.text;
            }
        }
        return content;
    }
}
class RunToolCallItem extends RunItemBase {
    rawItem;
    agent;
    type = 'tool_call_item';
    constructor(rawItem, agent){
        super();
        this.rawItem = rawItem;
        this.agent = agent;
    }
    toJSON() {
        return {
            ...super.toJSON(),
            agent: this.agent.toJSON()
        };
    }
}
class RunToolCallOutputItem extends RunItemBase {
    rawItem;
    agent;
    output;
    type = 'tool_call_output_item';
    constructor(rawItem, agent, output){
        super();
        this.rawItem = rawItem;
        this.agent = agent;
        this.output = output;
    }
    toJSON() {
        return {
            ...super.toJSON(),
            agent: this.agent.toJSON(),
            output: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toSmartString"])(this.output)
        };
    }
}
class RunReasoningItem extends RunItemBase {
    rawItem;
    agent;
    type = 'reasoning_item';
    constructor(rawItem, agent){
        super();
        this.rawItem = rawItem;
        this.agent = agent;
    }
    toJSON() {
        return {
            ...super.toJSON(),
            agent: this.agent.toJSON()
        };
    }
}
class RunHandoffCallItem extends RunItemBase {
    rawItem;
    agent;
    type = 'handoff_call_item';
    constructor(rawItem, agent){
        super();
        this.rawItem = rawItem;
        this.agent = agent;
    }
    toJSON() {
        return {
            ...super.toJSON(),
            agent: this.agent.toJSON()
        };
    }
}
class RunHandoffOutputItem extends RunItemBase {
    rawItem;
    sourceAgent;
    targetAgent;
    type = 'handoff_output_item';
    constructor(rawItem, sourceAgent, targetAgent){
        super();
        this.rawItem = rawItem;
        this.sourceAgent = sourceAgent;
        this.targetAgent = targetAgent;
    }
    toJSON() {
        return {
            ...super.toJSON(),
            sourceAgent: this.sourceAgent.toJSON(),
            targetAgent: this.targetAgent.toJSON()
        };
    }
}
class RunToolApprovalItem extends RunItemBase {
    rawItem;
    agent;
    type = 'tool_approval_item';
    constructor(rawItem, agent){
        super();
        this.rawItem = rawItem;
        this.agent = agent;
    }
    toJSON() {
        return {
            ...super.toJSON(),
            agent: this.agent.toJSON()
        };
    }
}
function extractAllTextOutput(items) {
    return items.filter((item)=>item.type === 'message_output_item').map((item)=>item.content).join('');
} //# sourceMappingURL=items.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/utils/messages.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Get the last text from the output message.
 * @param outputMessage
 * @returns
 */ __turbopack_context__.s([
    "getLastTextFromOutputMessage",
    ()=>getLastTextFromOutputMessage,
    "getOutputText",
    ()=>getOutputText
]);
function getLastTextFromOutputMessage(outputMessage) {
    if (outputMessage.type !== 'message') {
        return undefined;
    }
    if (outputMessage.role !== 'assistant') {
        return undefined;
    }
    const lastItem = outputMessage.content[outputMessage.content.length - 1];
    if (lastItem.type !== 'output_text') {
        return undefined;
    }
    return lastItem.text;
}
function getOutputText(output) {
    if (output.output.length === 0) {
        return '';
    }
    return getLastTextFromOutputMessage(output.output[output.output.length - 1]) || '';
} //# sourceMappingURL=messages.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/events.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Streaming event from the LLM. These are `raw` events, i.e. they are directly passed through from
 * the LLM.
 */ __turbopack_context__.s([
    "RunAgentUpdatedStreamEvent",
    ()=>RunAgentUpdatedStreamEvent,
    "RunItemStreamEvent",
    ()=>RunItemStreamEvent,
    "RunRawModelStreamEvent",
    ()=>RunRawModelStreamEvent
]);
class RunRawModelStreamEvent {
    data;
    /**
     * The type of the event.
     */ type = 'raw_model_stream_event';
    /**
     * @param data The raw responses stream events from the LLM.
     */ constructor(data){
        this.data = data;
    }
}
class RunItemStreamEvent {
    name;
    item;
    type = 'run_item_stream_event';
    /**
     * @param name The name of the event.
     * @param item The item that was created.
     */ constructor(name, item){
        this.name = name;
        this.item = item;
    }
}
class RunAgentUpdatedStreamEvent {
    agent;
    type = 'agent_updated_stream_event';
    /**
     * @param agent The new agent
     */ constructor(agent){
        this.agent = agent;
    }
} //# sourceMappingURL=events.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/utils/index.mjs [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/typeGuards.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/smartString.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/lifecycle.mjs [app-route] (ecmascript)"); //# sourceMappingURL=index.mjs.map
;
;
;
}),
"[project]/node_modules/@openai/agents-core/dist/runImplementation.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AgentToolUseTracker",
    ()=>AgentToolUseTracker,
    "addStepToRunResult",
    ()=>addStepToRunResult,
    "checkForFinalOutputFromTools",
    ()=>checkForFinalOutputFromTools,
    "executeComputerActions",
    ()=>executeComputerActions,
    "executeFunctionToolCalls",
    ()=>executeFunctionToolCalls,
    "executeHandoffCalls",
    ()=>executeHandoffCalls,
    "executeInterruptedToolsAndSideEffects",
    ()=>executeInterruptedToolsAndSideEffects,
    "executeToolsAndSideEffects",
    ()=>executeToolsAndSideEffects,
    "getToolCallOutputItem",
    ()=>getToolCallOutputItem,
    "maybeResetToolChoice",
    ()=>maybeResetToolChoice,
    "nextStepSchema",
    ()=>nextStepSchema,
    "processModelResponse",
    ()=>processModelResponse
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/agent.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/handoff.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/items.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$messages$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/messages.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/createSpans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/tools.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$safeExecute$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/safeExecute.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/events.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/zod/v3/external.js [app-route] (ecmascript) <export * as z>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/smartString.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/typeGuards.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function processModelResponse(modelResponse, agent, tools, handoffs) {
    const items = [];
    const runHandoffs = [];
    const runFunctions = [];
    const runComputerActions = [];
    const runMCPApprovalRequests = [];
    const toolsUsed = [];
    const handoffMap = new Map(handoffs.map((h)=>[
            h.toolName,
            h
        ]));
    const functionMap = new Map(tools.filter((t)=>t.type === 'function').map((t)=>[
            t.name,
            t
        ]));
    const computerTool = tools.find((t)=>t.type === 'computer');
    const mcpToolMap = new Map(tools.filter((t)=>t.type === 'hosted_tool' && t.providerData?.type === 'mcp').map((t)=>t).map((t)=>[
            t.providerData.server_label,
            t
        ]));
    for (const output of modelResponse.output){
        if (output.type === 'message') {
            if (output.role === 'assistant') {
                items.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunMessageOutputItem"](output, agent));
            }
        } else if (output.type === 'hosted_tool_call') {
            items.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"](output, agent));
            const toolName = output.name;
            toolsUsed.push(toolName);
            if (output.providerData?.type === 'mcp_approval_request' || output.name === 'mcp_approval_request') {
                // Hosted remote MCP server's approval process
                const providerData = output.providerData;
                const mcpServerLabel = providerData.server_label;
                const mcpServerTool = mcpToolMap.get(mcpServerLabel);
                if (typeof mcpServerTool === 'undefined') {
                    const message = `MCP server (${mcpServerLabel}) not found in Agent (${agent.name})`;
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addErrorToCurrentSpan"])({
                        message,
                        data: {
                            mcp_server_label: mcpServerLabel
                        }
                    });
                    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"](message);
                }
                // Do this approval later:
                // We support both onApproval callback (like the Python SDK does) and HITL patterns.
                const approvalItem = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"]({
                    type: 'hosted_tool_call',
                    // We must use this name to align with the name sent from the servers
                    name: providerData.name,
                    id: providerData.id,
                    status: 'in_progress',
                    providerData
                }, agent);
                runMCPApprovalRequests.push({
                    requestItem: approvalItem,
                    mcpTool: mcpServerTool
                });
                if (!mcpServerTool.providerData.on_approval) {
                    // When onApproval function exists, it confirms the approval right after this.
                    // Thus, this approval item must be appended only for the next turn interruption patterns.
                    items.push(approvalItem);
                }
            }
        } else if (output.type === 'reasoning') {
            items.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunReasoningItem"](output, agent));
        } else if (output.type === 'computer_call') {
            items.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"](output, agent));
            toolsUsed.push('computer_use');
            if (!computerTool) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addErrorToCurrentSpan"])({
                    message: 'Model produced computer action without a computer tool.',
                    data: {
                        agent_name: agent.name
                    }
                });
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"]('Model produced computer action without a computer tool.');
            }
            runComputerActions.push({
                toolCall: output,
                computer: computerTool
            });
        }
        if (output.type !== 'function_call') {
            continue;
        }
        toolsUsed.push(output.name);
        const handoff = handoffMap.get(output.name);
        if (handoff) {
            items.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffCallItem"](output, agent));
            runHandoffs.push({
                toolCall: output,
                handoff: handoff
            });
        } else {
            const functionTool = functionMap.get(output.name);
            if (!functionTool) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addErrorToCurrentSpan"])({
                    message: `Tool ${output.name} not found in agent ${agent.name}.`,
                    data: {
                        tool_name: output.name,
                        agent_name: agent.name
                    }
                });
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"](`Tool ${output.name} not found in agent ${agent.name}.`);
            }
            items.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"](output, agent));
            runFunctions.push({
                toolCall: output,
                tool: functionTool
            });
        }
    }
    return {
        newItems: items,
        handoffs: runHandoffs,
        functions: runFunctions,
        computerActions: runComputerActions,
        mcpApprovalRequests: runMCPApprovalRequests,
        toolsUsed: toolsUsed,
        hasToolsOrApprovalsToRun () {
            return runHandoffs.length > 0 || runFunctions.length > 0 || runMCPApprovalRequests.length > 0 || runComputerActions.length > 0;
        }
    };
}
const nextStepSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('next_step_handoff'),
        newAgent: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('next_step_final_output'),
        output: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('next_step_run_again')
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('next_step_interruption'),
        data: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any())
    })
]);
class SingleStepResult {
    originalInput;
    modelResponse;
    preStepItems;
    newStepItems;
    nextStep;
    constructor(/**
     * The input items i.e. the items before run() was called. May be muted by handoff input filters
     */ originalInput, /**
     * The model response for the current step
     */ modelResponse, /**
     * The items before the current step was executed
     */ preStepItems, /**
     * The items after the current step was executed
     */ newStepItems, /**
     * The next step to execute
     */ nextStep){
        this.originalInput = originalInput;
        this.modelResponse = modelResponse;
        this.preStepItems = preStepItems;
        this.newStepItems = newStepItems;
        this.nextStep = nextStep;
    }
    /**
     * The items generated during the agent run (i.e. everything generated after originalInput)
     */ get generatedItems() {
        return this.preStepItems.concat(this.newStepItems);
    }
}
function maybeResetToolChoice(agent, toolUseTracker, modelSettings) {
    if (agent.resetToolChoice && toolUseTracker.hasUsedTools(agent)) {
        return {
            ...modelSettings,
            toolChoice: undefined
        };
    }
    return modelSettings;
}
async function executeInterruptedToolsAndSideEffects(agent, originalInput, originalPreStepItems, newResponse, processedResponse, runner, state) {
    // call_ids for function tools
    const functionCallIds = originalPreStepItems.filter((item)=>item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"] && 'callId' in item.rawItem && item.rawItem.type === 'function_call').map((item)=>item.rawItem.callId);
    // Run function tools that require approval after they get their approval results
    const functionToolRuns = processedResponse.functions.filter((run)=>{
        return functionCallIds.includes(run.toolCall.callId);
    });
    const functionResults = await executeFunctionToolCalls(agent, functionToolRuns, runner, state);
    // Create the initial set of the output items
    const newItems = functionResults.map((r)=>r.runItem);
    // Run MCP tools that require approval after they get their approval results
    const mcpApprovalRuns = processedResponse.mcpApprovalRequests.filter((run)=>{
        return run.requestItem.type === 'tool_approval_item' && run.requestItem.rawItem.type === 'hosted_tool_call' && run.requestItem.rawItem.providerData?.type === 'mcp_approval_request';
    });
    for (const run of mcpApprovalRuns){
        // the approval_request_id "mcpr_123..."
        const approvalRequestId = run.requestItem.rawItem.id;
        const approved = state._context.isToolApproved({
            // Since this item name must be the same with the one sent from Responses API server
            toolName: run.requestItem.rawItem.name,
            callId: approvalRequestId
        });
        if (typeof approved !== 'undefined') {
            const providerData = {
                approve: approved,
                approval_request_id: approvalRequestId,
                reason: undefined
            };
            // Tell Responses API server the approval result in the next turn
            newItems.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"]({
                type: 'hosted_tool_call',
                name: 'mcp_approval_response',
                providerData
            }, agent));
        }
    }
    const checkToolOutput = await checkForFinalOutputFromTools(agent, functionResults, state);
    // Exclude the tool approval items, which should not be sent to Responses API,
    // from the SingleStepResult's preStepItems
    const preStepItems = originalPreStepItems.filter((item)=>{
        return !(item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"]);
    });
    if (checkToolOutput.isFinalOutput) {
        runner.emit('agent_end', state._context, agent, checkToolOutput.finalOutput);
        agent.emit('agent_end', state._context, checkToolOutput.finalOutput);
        return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
            type: 'next_step_final_output',
            output: checkToolOutput.finalOutput
        });
    } else if (checkToolOutput.isInterrupted) {
        return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
            type: 'next_step_interruption',
            data: {
                interruptions: checkToolOutput.interruptions
            }
        });
    }
    // we only ran new tools and side effects. We need to run the rest of the agent
    return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
        type: 'next_step_run_again'
    });
}
async function executeToolsAndSideEffects(agent, originalInput, originalPreStepItems, newResponse, processedResponse, runner, state) {
    const preStepItems = originalPreStepItems;
    let newItems = processedResponse.newItems;
    const [functionResults, computerResults] = await Promise.all([
        executeFunctionToolCalls(agent, processedResponse.functions, runner, state),
        executeComputerActions(agent, processedResponse.computerActions, runner, state._context)
    ]);
    newItems = newItems.concat(functionResults.map((r)=>r.runItem));
    newItems = newItems.concat(computerResults);
    // run hosted MCP approval requests
    if (processedResponse.mcpApprovalRequests.length > 0) {
        for (const approvalRequest of processedResponse.mcpApprovalRequests){
            const toolData = approvalRequest.mcpTool.providerData;
            const requestData = approvalRequest.requestItem.rawItem.providerData;
            if (toolData.on_approval) {
                // synchronously handle the approval process here
                const approvalResult = await toolData.on_approval(state._context, approvalRequest.requestItem);
                const approvalResponseData = {
                    approve: approvalResult.approve,
                    approval_request_id: requestData.id,
                    reason: approvalResult.reason
                };
                newItems.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"]({
                    type: 'hosted_tool_call',
                    name: 'mcp_approval_response',
                    providerData: approvalResponseData
                }, agent));
            } else {
                // receive a user's approval on the next turn
                newItems.push(approvalRequest.requestItem);
                const approvalItem = {
                    type: 'hosted_mcp_tool_approval',
                    tool: approvalRequest.mcpTool,
                    runItem: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"]({
                        type: 'hosted_tool_call',
                        name: requestData.name,
                        id: requestData.id,
                        arguments: requestData.arguments,
                        status: 'in_progress',
                        providerData: requestData
                    }, agent)
                };
                functionResults.push(approvalItem);
            // newItems.push(approvalItem.runItem);
            }
        }
    }
    // process handoffs
    if (processedResponse.handoffs.length > 0) {
        return await executeHandoffCalls(agent, originalInput, preStepItems, newItems, newResponse, processedResponse.handoffs, runner, state._context);
    }
    const checkToolOutput = await checkForFinalOutputFromTools(agent, functionResults, state);
    if (checkToolOutput.isFinalOutput) {
        runner.emit('agent_end', state._context, agent, checkToolOutput.finalOutput);
        agent.emit('agent_end', state._context, checkToolOutput.finalOutput);
        return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
            type: 'next_step_final_output',
            output: checkToolOutput.finalOutput
        });
    } else if (checkToolOutput.isInterrupted) {
        return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
            type: 'next_step_interruption',
            data: {
                interruptions: checkToolOutput.interruptions
            }
        });
    }
    // If the model issued any tool calls or handoffs in this turn,
    // we must NOT treat any assistant message in the same turn as the final output.
    // We should run the loop again so the model can see the tool results and respond.
    const hadToolCallsOrActions = (processedResponse.functions?.length ?? 0) > 0 || (processedResponse.computerActions?.length ?? 0) > 0 || (processedResponse.mcpApprovalRequests?.length ?? 0) > 0 || (processedResponse.handoffs?.length ?? 0) > 0;
    if (hadToolCallsOrActions) {
        return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
            type: 'next_step_run_again'
        });
    }
    // No tool calls/actions in this turn; safe to consider a plain assistant message as final.
    const messageItems = newItems.filter((item)=>item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunMessageOutputItem"]);
    // we will use the last content output as the final output
    const potentialFinalOutput = messageItems.length > 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$messages$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getLastTextFromOutputMessage"])(messageItems[messageItems.length - 1].rawItem) : undefined;
    // if there is no output we just run again
    if (typeof potentialFinalOutput === 'undefined') {
        return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
            type: 'next_step_run_again'
        });
    }
    const hasPendingToolsOrApprovals = functionResults.some((result)=>result.runItem instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"]);
    if (!hasPendingToolsOrApprovals) {
        if (agent.outputType === 'text') {
            return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
                type: 'next_step_final_output',
                output: potentialFinalOutput
            });
        }
        if (agent.outputType !== 'text' && potentialFinalOutput) {
            // Structured output schema => always leads to a final output if we have text.
            const { parser } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getSchemaAndParserFromInputType"])(agent.outputType, 'final_output');
            const [error] = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$safeExecute$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["safeExecute"])(()=>parser(potentialFinalOutput));
            if (error) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addErrorToCurrentSpan"])({
                    message: 'Invalid output type',
                    data: {
                        error: String(error)
                    }
                });
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"]('Invalid output type');
            }
            return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
                type: 'next_step_final_output',
                output: potentialFinalOutput
            });
        }
    }
    return new SingleStepResult(originalInput, newResponse, preStepItems, newItems, {
        type: 'next_step_run_again'
    });
}
function getToolCallOutputItem(toolCall, output) {
    return {
        type: 'function_call_result',
        name: toolCall.name,
        callId: toolCall.callId,
        status: 'completed',
        output: {
            type: 'text',
            text: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toSmartString"])(output)
        }
    };
}
async function executeFunctionToolCalls(agent, toolRuns, runner, state) {
    async function runSingleTool(toolRun) {
        let parsedArgs = toolRun.toolCall.arguments;
        if (toolRun.tool.parameters) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isZodObject"])(toolRun.tool.parameters)) {
                parsedArgs = toolRun.tool.parameters.parse(parsedArgs);
            } else {
                parsedArgs = JSON.parse(parsedArgs);
            }
        }
        const needsApproval = await toolRun.tool.needsApproval(state._context, parsedArgs, toolRun.toolCall.callId);
        if (needsApproval) {
            const approval = state._context.isToolApproved({
                toolName: toolRun.tool.name,
                callId: toolRun.toolCall.callId
            });
            if (approval === false) {
                // rejected
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withFunctionSpan"])(async (span)=>{
                    const response = 'Tool execution was not approved.';
                    span.setError({
                        message: response,
                        data: {
                            tool_name: toolRun.tool.name,
                            error: `Tool execution for ${toolRun.toolCall.callId} was manually rejected by user.`
                        }
                    });
                    span.spanData.output = response;
                    return {
                        type: 'function_output',
                        tool: toolRun.tool,
                        output: response,
                        runItem: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallOutputItem"](getToolCallOutputItem(toolRun.toolCall, response), agent, response)
                    };
                }, {
                    data: {
                        name: toolRun.tool.name
                    }
                });
            }
            if (approval !== true) {
                // this approval process needs to be done in the next turn
                return {
                    type: 'function_approval',
                    tool: toolRun.tool,
                    runItem: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"](toolRun.toolCall, agent)
                };
            }
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withFunctionSpan"])(async (span)=>{
            if (runner.config.traceIncludeSensitiveData) {
                span.spanData.input = toolRun.toolCall.arguments;
            }
            try {
                runner.emit('agent_tool_start', state._context, agent, toolRun.tool, {
                    toolCall: toolRun.toolCall
                });
                agent.emit('agent_tool_start', state._context, toolRun.tool, {
                    toolCall: toolRun.toolCall
                });
                const toolOutput = await toolRun.tool.invoke(state._context, toolRun.toolCall.arguments, {
                    toolCall: toolRun.toolCall
                });
                // Use string data for tracing and event emitter
                const stringResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toSmartString"])(toolOutput);
                runner.emit('agent_tool_end', state._context, agent, toolRun.tool, stringResult, {
                    toolCall: toolRun.toolCall
                });
                agent.emit('agent_tool_end', state._context, toolRun.tool, stringResult, {
                    toolCall: toolRun.toolCall
                });
                if (runner.config.traceIncludeSensitiveData) {
                    span.spanData.output = stringResult;
                }
                const functionResult = {
                    type: 'function_output',
                    tool: toolRun.tool,
                    output: toolOutput,
                    runItem: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallOutputItem"](getToolCallOutputItem(toolRun.toolCall, toolOutput), agent, toolOutput)
                };
                const nestedRunResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["consumeAgentToolRunResult"])(toolRun.toolCall);
                if (nestedRunResult) {
                    functionResult.agentRunResult = nestedRunResult;
                    const nestedInterruptions = nestedRunResult.interruptions;
                    if (nestedInterruptions.length > 0) {
                        functionResult.interruptions = nestedInterruptions;
                    }
                }
                return functionResult;
            } catch (error) {
                span.setError({
                    message: 'Error running tool',
                    data: {
                        tool_name: toolRun.tool.name,
                        error: String(error)
                    }
                });
                throw error;
            }
        }, {
            data: {
                name: toolRun.tool.name
            }
        });
    }
    try {
        const results = await Promise.all(toolRuns.map(runSingleTool));
        return results;
    } catch (e) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ToolCallError"](`Failed to run function tools: ${e}`, e, state);
    }
}
/**
 * @internal
 */ // Internal helper: dispatch a computer action and return a screenshot (sync/async)
async function _runComputerActionAndScreenshot(computer, toolCall) {
    const action = toolCall.action;
    let screenshot;
    // Dispatch based on action type string (assume action.type exists)
    switch(action.type){
        case 'click':
            await computer.click(action.x, action.y, action.button);
            break;
        case 'double_click':
            await computer.doubleClick(action.x, action.y);
            break;
        case 'drag':
            await computer.drag(action.path.map((p)=>[
                    p.x,
                    p.y
                ]));
            break;
        case 'keypress':
            await computer.keypress(action.keys);
            break;
        case 'move':
            await computer.move(action.x, action.y);
            break;
        case 'screenshot':
            screenshot = await computer.screenshot();
            break;
        case 'scroll':
            await computer.scroll(action.x, action.y, action.scroll_x, action.scroll_y);
            break;
        case 'type':
            await computer.type(action.text);
            break;
        case 'wait':
            await computer.wait();
            break;
        default:
            action; // ensures that we handle every action we know of
            break;
    }
    if (typeof screenshot !== 'undefined') {
        return screenshot;
    }
    // Always return screenshot as base64 string
    if (typeof computer.screenshot === 'function') {
        screenshot = await computer.screenshot();
        if (typeof screenshot !== 'undefined') {
            return screenshot;
        }
    }
    throw new Error('Computer does not implement screenshot()');
}
async function executeComputerActions(agent, actions, runner, runContext, customLogger = undefined) {
    const _logger = customLogger ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"];
    const results = [];
    for (const action of actions){
        const computer = action.computer.computer;
        const toolCall = action.toolCall;
        // Hooks: on_tool_start (global + agent)
        runner.emit('agent_tool_start', runContext, agent, action.computer, {
            toolCall
        });
        if (typeof agent.emit === 'function') {
            agent.emit('agent_tool_start', runContext, action.computer, {
                toolCall
            });
        }
        // Run the action and get screenshot
        let output;
        try {
            output = await _runComputerActionAndScreenshot(computer, toolCall);
        } catch (err) {
            _logger.error('Failed to execute computer action:', err);
            output = '';
        }
        // Hooks: on_tool_end (global + agent)
        runner.emit('agent_tool_end', runContext, agent, action.computer, output, {
            toolCall
        });
        if (typeof agent.emit === 'function') {
            agent.emit('agent_tool_end', runContext, action.computer, output, {
                toolCall
            });
        }
        // Always return a screenshot as a base64 data URL
        const imageUrl = output ? `data:image/png;base64,${output}` : '';
        const rawItem = {
            type: 'computer_call_result',
            callId: toolCall.callId,
            output: {
                type: 'computer_screenshot',
                data: imageUrl
            }
        };
        results.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallOutputItem"](rawItem, agent, imageUrl));
    }
    return results;
}
async function executeHandoffCalls(agent, originalInput, preStepItems, newStepItems, newResponse, runHandoffs, runner, runContext) {
    newStepItems = [
        ...newStepItems
    ];
    if (runHandoffs.length === 0) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn('Incorrectly called executeHandoffCalls with no handoffs. This should not happen. Moving on.');
        return new SingleStepResult(originalInput, newResponse, preStepItems, newStepItems, {
            type: 'next_step_run_again'
        });
    }
    if (runHandoffs.length > 1) {
        // multiple handoffs. Ignoring all but the first one by adding reject responses for those
        const outputMessage = 'Multiple handoffs detected, ignoring this one.';
        for(let i = 1; i < runHandoffs.length; i++){
            newStepItems.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallOutputItem"](getToolCallOutputItem(runHandoffs[i].toolCall, outputMessage), agent, outputMessage));
        }
    }
    const actualHandoff = runHandoffs[0];
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withHandoffSpan"])(async (handoffSpan)=>{
        const handoff = actualHandoff.handoff;
        const newAgent = await handoff.onInvokeHandoff(runContext, actualHandoff.toolCall.arguments);
        handoffSpan.spanData.to_agent = newAgent.name;
        if (runHandoffs.length > 1) {
            const requestedAgents = runHandoffs.map((h)=>h.handoff.agentName);
            handoffSpan.setError({
                message: 'Multiple handoffs requested',
                data: {
                    requested_agents: requestedAgents
                }
            });
        }
        newStepItems.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffOutputItem"](getToolCallOutputItem(actualHandoff.toolCall, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getTransferMessage"])(newAgent)), agent, newAgent));
        runner.emit('agent_handoff', runContext, agent, newAgent);
        agent.emit('agent_handoff', runContext, newAgent);
        const inputFilter = handoff.inputFilter ?? runner.config.handoffInputFilter;
        if (inputFilter) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Filtering inputs for handoff');
            if (typeof inputFilter !== 'function') {
                handoffSpan.setError({
                    message: 'Invalid input filter',
                    data: {
                        details: 'not callable'
                    }
                });
            }
            const handoffInputData = {
                inputHistory: Array.isArray(originalInput) ? [
                    ...originalInput
                ] : originalInput,
                preHandoffItems: [
                    ...preStepItems
                ],
                newItems: [
                    ...newStepItems
                ],
                runContext
            };
            const filtered = inputFilter(handoffInputData);
            originalInput = filtered.inputHistory;
            preStepItems = filtered.preHandoffItems;
            newStepItems = filtered.newItems;
        }
        return new SingleStepResult(originalInput, newResponse, preStepItems, newStepItems, {
            type: 'next_step_handoff',
            newAgent
        });
    }, {
        data: {
            from_agent: agent.name
        }
    });
}
const NOT_FINAL_OUTPUT = {
    isFinalOutput: false,
    isInterrupted: undefined
};
async function checkForFinalOutputFromTools(agent, toolResults, state) {
    if (toolResults.length === 0) {
        return NOT_FINAL_OUTPUT;
    }
    const interruptions = [];
    for (const result of toolResults){
        if (result.runItem instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"]) {
            interruptions.push(result.runItem);
        }
        if (result.type === 'function_output') {
            if (Array.isArray(result.interruptions)) {
                interruptions.push(...result.interruptions);
            } else if (result.agentRunResult) {
                const nestedInterruptions = result.agentRunResult.interruptions;
                if (nestedInterruptions.length > 0) {
                    interruptions.push(...nestedInterruptions);
                }
            }
        }
    }
    if (interruptions.length > 0) {
        return {
            isFinalOutput: false,
            isInterrupted: true,
            interruptions
        };
    }
    if (agent.toolUseBehavior === 'run_llm_again') {
        return NOT_FINAL_OUTPUT;
    }
    const firstToolResult = toolResults[0];
    if (agent.toolUseBehavior === 'stop_on_first_tool') {
        if (firstToolResult?.type === 'function_output') {
            const stringOutput = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toSmartString"])(firstToolResult.output);
            return {
                isFinalOutput: true,
                isInterrupted: undefined,
                finalOutput: stringOutput
            };
        }
        return NOT_FINAL_OUTPUT;
    }
    const toolUseBehavior = agent.toolUseBehavior;
    if (typeof toolUseBehavior === 'object') {
        const stoppingTool = toolResults.find((r)=>toolUseBehavior.stopAtToolNames.includes(r.tool.name));
        if (stoppingTool?.type === 'function_output') {
            const stringOutput = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$smartString$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toSmartString"])(stoppingTool.output);
            return {
                isFinalOutput: true,
                isInterrupted: undefined,
                finalOutput: stringOutput
            };
        }
        return NOT_FINAL_OUTPUT;
    }
    if (typeof toolUseBehavior === 'function') {
        return toolUseBehavior(state._context, toolResults);
    }
    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Invalid toolUseBehavior: ${toolUseBehavior}`, state);
}
function addStepToRunResult(result, step) {
    for (const item of step.newStepItems){
        let itemName;
        if (item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunMessageOutputItem"]) {
            itemName = 'message_output_created';
        } else if (item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffCallItem"]) {
            itemName = 'handoff_requested';
        } else if (item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffOutputItem"]) {
            itemName = 'handoff_occurred';
        } else if (item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"]) {
            itemName = 'tool_called';
        } else if (item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallOutputItem"]) {
            itemName = 'tool_output';
        } else if (item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunReasoningItem"]) {
            itemName = 'reasoning_item_created';
        } else if (item instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"]) {
            itemName = 'tool_approval_requested';
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn('Unknown item type: ', item);
            continue;
        }
        result._addItem(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunItemStreamEvent"](itemName, item));
    }
}
class AgentToolUseTracker {
    #agentToTools = new Map();
    addToolUse(agent, toolNames) {
        this.#agentToTools.set(agent, toolNames);
    }
    hasUsedTools(agent) {
        return this.#agentToTools.has(agent);
    }
    toJSON() {
        return Object.fromEntries(Array.from(this.#agentToTools.entries()).map(([agent, toolNames])=>{
            return [
                agent.name,
                toolNames
            ];
        }));
    }
} //# sourceMappingURL=runImplementation.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/runState.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CURRENT_SCHEMA_VERSION",
    ()=>CURRENT_SCHEMA_VERSION,
    "RunState",
    ()=>RunState,
    "SerializedRunState",
    ()=>SerializedRunState,
    "buildAgentMap",
    ()=>buildAgentMap,
    "deserializeItem",
    ()=>deserializeItem,
    "deserializeModelResponse",
    ()=>deserializeModelResponse,
    "deserializeSpan",
    ()=>deserializeSpan
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/zod/v3/external.js [app-route] (ecmascript) <export * as z>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/agent.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/items.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runContext.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/run.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runImplementation.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/provider.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/usage.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/handoff.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/types/protocol.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$safeExecute$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/safeExecute.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const CURRENT_SCHEMA_VERSION = '1.0';
const $schemaVersion = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(CURRENT_SCHEMA_VERSION);
const serializedAgentSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
const serializedSpanBase = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    object: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('trace.span'),
    id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    trace_id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    parent_id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().nullable(),
    started_at: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().nullable(),
    ended_at: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().nullable(),
    error: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        message: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
        data: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()).optional()
    }).nullable(),
    span_data: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any())
});
const SerializedSpan = serializedSpanBase.extend({
    previous_span: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].lazy(()=>SerializedSpan).optional()
});
const usageSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    requests: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    inputTokens: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    outputTokens: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    totalTokens: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number()
});
const modelResponseSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    usage: usageSchema,
    output: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OutputModelItem"]),
    responseId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    providerData: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()).optional()
});
const itemSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion('type', [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('message_output_item'),
        rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["AssistantMessageItem"],
        agent: serializedAgentSchema
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('tool_call_item'),
        rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ToolCallItem"].or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["HostedToolCallItem"]),
        agent: serializedAgentSchema
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('tool_call_output_item'),
        rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FunctionCallResultItem"],
        agent: serializedAgentSchema,
        output: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('reasoning_item'),
        rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ReasoningItem"],
        agent: serializedAgentSchema
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('handoff_call_item'),
        rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FunctionCallItem"],
        agent: serializedAgentSchema
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('handoff_output_item'),
        rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FunctionCallResultItem"],
        sourceAgent: serializedAgentSchema,
        targetAgent: serializedAgentSchema
    }),
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('tool_approval_item'),
        rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FunctionCallItem"].or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["HostedToolCallItem"]),
        agent: serializedAgentSchema
    })
]);
const serializedTraceSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    object: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('trace'),
    id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    workflow_name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    group_id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().nullable(),
    metadata: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any())
});
const serializedProcessedResponseSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    newItems: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(itemSchema),
    toolsUsed: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()),
    handoffs: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        toolCall: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any(),
        handoff: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()
    })),
    functions: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        toolCall: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any(),
        tool: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()
    })),
    computerActions: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        toolCall: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any(),
        computer: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()
    })),
    mcpApprovalRequests: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        requestItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
            // protocol.HostedToolCallItem
            rawItem: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('hosted_tool_call'),
                name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
                arguments: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
                status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
                output: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
                // this always exists but marked as optional for early version compatibility; when releasing 1.0, we can remove the nullable and optional
                providerData: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()).nullable().optional()
            })
        }),
        // HostedMCPTool
        mcpTool: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('hosted_tool'),
            name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('hosted_mcp'),
            providerData: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any())
        })
    })).optional()
});
const guardrailFunctionOutputSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    tripwireTriggered: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].boolean(),
    outputInfo: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()
});
const inputGuardrailResultSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    guardrail: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('input'),
        name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
    }),
    output: guardrailFunctionOutputSchema
});
const outputGuardrailResultSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    guardrail: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal('output'),
        name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
    }),
    agentOutput: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any(),
    agent: serializedAgentSchema,
    output: guardrailFunctionOutputSchema
});
const SerializedRunState = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    $schemaVersion,
    currentTurn: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    currentAgent: serializedAgentSchema,
    originalInput: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelItem"])),
    modelResponses: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(modelResponseSchema),
    context: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
        usage: usageSchema,
        approvals: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
            approved: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()).or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].boolean()),
            rejected: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()).or(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].boolean())
        })),
        context: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any())
    }),
    toolUseTracker: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].record(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string())),
    maxTurns: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].number(),
    currentAgentSpan: SerializedSpan.nullable().optional(),
    noActiveAgentRun: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].boolean(),
    inputGuardrailResults: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(inputGuardrailResultSchema),
    outputGuardrailResults: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(outputGuardrailResultSchema),
    currentStep: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["nextStepSchema"].optional(),
    lastModelResponse: modelResponseSchema.optional(),
    generatedItems: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].array(itemSchema),
    lastProcessedResponse: serializedProcessedResponseSchema.optional(),
    trace: serializedTraceSchema.nullable()
});
class RunState {
    /**
     * Current turn number in the conversation.
     */ _currentTurn = 0;
    /**
     * The agent currently handling the conversation.
     */ _currentAgent;
    /**
     * Original user input prior to any processing.
     */ _originalInput;
    /**
     * Responses from the model so far.
     */ _modelResponses;
    /**
     * Active tracing span for the current agent if tracing is enabled.
     */ _currentAgentSpan;
    /**
     * Run context tracking approvals, usage, and other metadata.
     */ _context;
    /**
     * Tracks what tools each agent has used.
     */ _toolUseTracker;
    /**
     * Items generated by the agent during the run.
     */ _generatedItems;
    /**
     * Maximum allowed turns before forcing termination.
     */ _maxTurns;
    /**
     * Whether the run has an active agent step in progress.
     */ _noActiveAgentRun = true;
    /**
     * Last model response for the previous turn.
     */ _lastTurnResponse;
    /**
     * Results from input guardrails applied to the run.
     */ _inputGuardrailResults;
    /**
     * Results from output guardrails applied to the run.
     */ _outputGuardrailResults;
    /**
     * Next step computed for the agent to take.
     */ _currentStep = undefined;
    /**
     * Parsed model response after applying guardrails and tools.
     */ _lastProcessedResponse = undefined;
    /**
     * Trace associated with this run if tracing is enabled.
     */ _trace = null;
    constructor(context, originalInput, startingAgent, maxTurns){
        this._context = context;
        this._originalInput = structuredClone(originalInput);
        this._modelResponses = [];
        this._currentAgentSpan = undefined;
        this._currentAgent = startingAgent;
        this._toolUseTracker = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["AgentToolUseTracker"]();
        this._generatedItems = [];
        this._maxTurns = maxTurns;
        this._inputGuardrailResults = [];
        this._outputGuardrailResults = [];
        this._trace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentTrace"])();
    }
    /**
     * The history of the agent run. This includes the input items and the new items generated during the run.
     *
     * This can be used as inputs for the next agent run.
     */ get history() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getTurnInput"])(this._originalInput, this._generatedItems);
    }
    /**
     * Returns all interruptions if the current step is an interruption otherwise returns an empty array.
     */ getInterruptions() {
        if (this._currentStep?.type !== 'next_step_interruption') {
            return [];
        }
        return this._currentStep.data.interruptions;
    }
    /**
     * Approves a tool call requested by the agent through an interruption and approval item request.
     *
     * To approve the request use this method and then run the agent again with the same state object
     * to continue the execution.
     *
     * By default it will only approve the current tool call. To allow the tool to be used multiple
     * times throughout the run, set the `alwaysApprove` option to `true`.
     *
     * @param approvalItem - The tool call approval item to approve.
     * @param options - Options for the approval.
     */ approve(approvalItem, options = {
        alwaysApprove: false
    }) {
        this._context.approveTool(approvalItem, options);
    }
    /**
     * Rejects a tool call requested by the agent through an interruption and approval item request.
     *
     * To reject the request use this method and then run the agent again with the same state object
     * to continue the execution.
     *
     * By default it will only reject the current tool call. To allow the tool to be used multiple
     * times throughout the run, set the `alwaysReject` option to `true`.
     *
     * @param approvalItem - The tool call approval item to reject.
     * @param options - Options for the rejection.
     */ reject(approvalItem, options = {
        alwaysReject: false
    }) {
        this._context.rejectTool(approvalItem, options);
    }
    /**
     * Serializes the run state to a JSON object.
     *
     * This method is used to serialize the run state to a JSON object that can be used to
     * resume the run later.
     *
     * @returns The serialized run state.
     */ toJSON() {
        const output = {
            $schemaVersion: CURRENT_SCHEMA_VERSION,
            currentTurn: this._currentTurn,
            currentAgent: {
                name: this._currentAgent.name
            },
            originalInput: this._originalInput,
            modelResponses: this._modelResponses.map((response)=>{
                return {
                    usage: {
                        requests: response.usage.requests,
                        inputTokens: response.usage.inputTokens,
                        outputTokens: response.usage.outputTokens,
                        totalTokens: response.usage.totalTokens
                    },
                    output: response.output,
                    responseId: response.responseId,
                    providerData: response.providerData
                };
            }),
            context: this._context.toJSON(),
            toolUseTracker: this._toolUseTracker.toJSON(),
            maxTurns: this._maxTurns,
            currentAgentSpan: this._currentAgentSpan?.toJSON(),
            noActiveAgentRun: this._noActiveAgentRun,
            inputGuardrailResults: this._inputGuardrailResults,
            outputGuardrailResults: this._outputGuardrailResults.map((r)=>({
                    ...r,
                    agent: r.agent.toJSON()
                })),
            currentStep: this._currentStep,
            lastModelResponse: this._lastTurnResponse,
            generatedItems: this._generatedItems.map((item)=>item.toJSON()),
            lastProcessedResponse: this._lastProcessedResponse,
            trace: this._trace ? this._trace.toJSON() : null
        };
        // parsing the schema to ensure the output is valid for reparsing
        const parsed = SerializedRunState.safeParse(output);
        if (!parsed.success) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["SystemError"](`Failed to serialize run state. ${parsed.error.message}`);
        }
        return parsed.data;
    }
    /**
     * Serializes the run state to a string.
     *
     * This method is used to serialize the run state to a string that can be used to
     * resume the run later.
     *
     * @returns The serialized run state.
     */ toString() {
        return JSON.stringify(this.toJSON());
    }
    /**
     * Deserializes a run state from a string.
     *
     * This method is used to deserialize a run state from a string that was serialized using the
     * `toString` method.
     */ static async fromString(initialAgent, str) {
        const [parsingError, jsonResult] = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$safeExecute$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["safeExecute"])(()=>JSON.parse(str));
        if (parsingError) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Failed to parse run state. ${parsingError instanceof Error ? parsingError.message : String(parsingError)}`);
        }
        const currentSchemaVersion = jsonResult.$schemaVersion;
        if (!currentSchemaVersion) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"]('Run state is missing schema version');
        }
        if (currentSchemaVersion !== CURRENT_SCHEMA_VERSION) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Run state schema version ${currentSchemaVersion} is not supported. Please use version ${CURRENT_SCHEMA_VERSION}`);
        }
        const stateJson = SerializedRunState.parse(JSON.parse(str));
        const agentMap = buildAgentMap(initialAgent);
        //
        // Rebuild the context
        //
        const context = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunContext"](stateJson.context.context);
        context._rebuildApprovals(stateJson.context.approvals);
        //
        // Find the current agent from the initial agent
        //
        const currentAgent = agentMap.get(stateJson.currentAgent.name);
        if (!currentAgent) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Agent ${stateJson.currentAgent.name} not found`);
        }
        const state = new RunState(context, '', currentAgent, stateJson.maxTurns);
        state._currentTurn = stateJson.currentTurn;
        // rebuild tool use tracker
        state._toolUseTracker = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["AgentToolUseTracker"]();
        for (const [agentName, toolNames] of Object.entries(stateJson.toolUseTracker)){
            state._toolUseTracker.addToolUse(agentMap.get(agentName), toolNames);
        }
        // rebuild current agent span
        if (stateJson.currentAgentSpan) {
            if (!stateJson.trace) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn('Trace is not set, skipping tracing setup');
            }
            const trace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createTrace({
                traceId: stateJson.trace?.id,
                name: stateJson.trace?.workflow_name,
                groupId: stateJson.trace?.group_id ?? undefined,
                metadata: stateJson.trace?.metadata
            });
            state._currentAgentSpan = deserializeSpan(trace, stateJson.currentAgentSpan);
            state._trace = trace;
        }
        state._noActiveAgentRun = stateJson.noActiveAgentRun;
        state._inputGuardrailResults = stateJson.inputGuardrailResults;
        state._outputGuardrailResults = stateJson.outputGuardrailResults.map((r)=>({
                ...r,
                agent: agentMap.get(r.agent.name)
            }));
        state._currentStep = stateJson.currentStep;
        state._originalInput = stateJson.originalInput;
        state._modelResponses = stateJson.modelResponses.map(deserializeModelResponse);
        state._lastTurnResponse = stateJson.lastModelResponse ? deserializeModelResponse(stateJson.lastModelResponse) : undefined;
        state._generatedItems = stateJson.generatedItems.map((item)=>deserializeItem(item, agentMap));
        state._lastProcessedResponse = stateJson.lastProcessedResponse ? await deserializeProcessedResponse(agentMap, state._currentAgent, state._context, stateJson.lastProcessedResponse) : undefined;
        if (stateJson.currentStep?.type === 'next_step_handoff') {
            state._currentStep = {
                type: 'next_step_handoff',
                newAgent: agentMap.get(stateJson.currentStep.newAgent.name)
            };
        }
        return state;
    }
}
function buildAgentMap(initialAgent) {
    const map = new Map();
    const queue = [
        initialAgent
    ];
    while(queue.length > 0){
        const currentAgent = queue.shift();
        if (map.has(currentAgent.name)) {
            continue;
        }
        map.set(currentAgent.name, currentAgent);
        for (const handoff of currentAgent.handoffs){
            if (handoff instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Agent"]) {
                if (!map.has(handoff.name)) {
                    queue.push(handoff);
                }
            } else if (handoff.agent) {
                if (!map.has(handoff.agent.name)) {
                    queue.push(handoff.agent);
                }
            }
        }
    }
    return map;
}
function deserializeSpan(trace, serializedSpan) {
    const spanData = serializedSpan.span_data;
    const previousSpan = serializedSpan.previous_span ? deserializeSpan(trace, serializedSpan.previous_span) : undefined;
    const span = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"])().createSpan({
        spanId: serializedSpan.id,
        traceId: serializedSpan.trace_id,
        parentId: serializedSpan.parent_id ?? undefined,
        startedAt: serializedSpan.started_at ?? undefined,
        endedAt: serializedSpan.ended_at ?? undefined,
        data: spanData
    }, trace);
    span.previousSpan = previousSpan;
    return span;
}
function deserializeModelResponse(serializedModelResponse) {
    const usage = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Usage"]();
    usage.requests = serializedModelResponse.usage.requests;
    usage.inputTokens = serializedModelResponse.usage.inputTokens;
    usage.outputTokens = serializedModelResponse.usage.outputTokens;
    usage.totalTokens = serializedModelResponse.usage.totalTokens;
    return {
        usage,
        output: serializedModelResponse.output.map((item)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OutputModelItem"].parse(item)),
        responseId: serializedModelResponse.responseId,
        providerData: serializedModelResponse.providerData
    };
}
function deserializeItem(serializedItem, agentMap) {
    switch(serializedItem.type){
        case 'message_output_item':
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunMessageOutputItem"](serializedItem.rawItem, agentMap.get(serializedItem.agent.name));
        case 'tool_call_item':
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"](serializedItem.rawItem, agentMap.get(serializedItem.agent.name));
        case 'tool_call_output_item':
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallOutputItem"](serializedItem.rawItem, agentMap.get(serializedItem.agent.name), serializedItem.output);
        case 'reasoning_item':
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunReasoningItem"](serializedItem.rawItem, agentMap.get(serializedItem.agent.name));
        case 'handoff_call_item':
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffCallItem"](serializedItem.rawItem, agentMap.get(serializedItem.agent.name));
        case 'handoff_output_item':
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffOutputItem"](serializedItem.rawItem, agentMap.get(serializedItem.sourceAgent.name), agentMap.get(serializedItem.targetAgent.name));
        case 'tool_approval_item':
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"](serializedItem.rawItem, agentMap.get(serializedItem.agent.name));
    }
}
/**
 * @internal
 */ async function deserializeProcessedResponse(agentMap, currentAgent, context, serializedProcessedResponse) {
    const allTools = await currentAgent.getAllTools(context);
    const tools = new Map(allTools.filter((tool)=>tool.type === 'function').map((tool)=>[
            tool.name,
            tool
        ]));
    const computerTools = new Map(allTools.filter((tool)=>tool.type === 'computer').map((tool)=>[
            tool.name,
            tool
        ]));
    const handoffs = new Map(currentAgent.handoffs.map((entry)=>{
        if (entry instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Agent"]) {
            return [
                entry.name,
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["handoff"])(entry)
            ];
        }
        return [
            entry.toolName,
            entry
        ];
    }));
    const result = {
        newItems: serializedProcessedResponse.newItems.map((item)=>deserializeItem(item, agentMap)),
        toolsUsed: serializedProcessedResponse.toolsUsed,
        handoffs: serializedProcessedResponse.handoffs.map((handoff)=>{
            if (!handoffs.has(handoff.handoff.toolName)) {
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Handoff ${handoff.handoff.toolName} not found`);
            }
            return {
                toolCall: handoff.toolCall,
                handoff: handoffs.get(handoff.handoff.toolName)
            };
        }),
        functions: await Promise.all(serializedProcessedResponse.functions.map(async (functionCall)=>{
            if (!tools.has(functionCall.tool.name)) {
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Tool ${functionCall.tool.name} not found`);
            }
            return {
                toolCall: functionCall.toolCall,
                tool: tools.get(functionCall.tool.name)
            };
        })),
        computerActions: serializedProcessedResponse.computerActions.map((computerAction)=>{
            const toolName = computerAction.computer.name;
            if (!computerTools.has(toolName)) {
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"](`Computer tool ${toolName} not found`);
            }
            return {
                toolCall: computerAction.toolCall,
                computer: computerTools.get(toolName)
            };
        }),
        mcpApprovalRequests: (serializedProcessedResponse.mcpApprovalRequests ?? []).map((approvalRequest)=>({
                requestItem: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"](approvalRequest.requestItem.rawItem, currentAgent),
                mcpTool: approvalRequest.mcpTool
            }))
    };
    return {
        ...result,
        hasToolsOrApprovalsToRun () {
            return result.handoffs.length > 0 || result.functions.length > 0 || result.mcpApprovalRequests.length > 0 || result.computerActions.length > 0;
        }
    };
} //# sourceMappingURL=runState.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/run.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Runner",
    ()=>Runner,
    "getTracing",
    ()=>getTracing,
    "getTurnInput",
    ()=>getTurnInput,
    "run",
    ()=>run,
    "selectModel",
    ()=>selectModel
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/agent.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/guardrail.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/handoff.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$providers$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/providers.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runContext.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/result.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/lifecycle.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$serialize$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/serialize.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runImplementation.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/createSpans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/usage.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/events.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runState.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/types/protocol.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/tools.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/defaultModel.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const DEFAULT_MAX_TURNS = 10;
function getTracing(tracingDisabled, traceIncludeSensitiveData) {
    if (tracingDisabled) {
        return false;
    }
    if (traceIncludeSensitiveData) {
        return true;
    }
    return 'enabled_without_data';
}
function getTurnInput(originalInput, generatedItems) {
    const rawItems = generatedItems.filter((item)=>item.type !== 'tool_approval_item') // don't include approval items to avoid double function calls
    .map((item)=>item.rawItem);
    if (typeof originalInput === 'string') {
        originalInput = [
            {
                type: 'message',
                role: 'user',
                content: originalInput
            }
        ];
    }
    return [
        ...originalInput,
        ...rawItems
    ];
}
class Runner extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHooks"] {
    config;
    inputGuardrailDefs;
    outputGuardrailDefs;
    constructor(config = {}){
        super();
        this.config = {
            modelProvider: config.modelProvider ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$providers$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDefaultModelProvider"])(),
            model: config.model,
            modelSettings: config.modelSettings,
            handoffInputFilter: config.handoffInputFilter,
            inputGuardrails: config.inputGuardrails,
            outputGuardrails: config.outputGuardrails,
            tracingDisabled: config.tracingDisabled ?? false,
            traceIncludeSensitiveData: config.traceIncludeSensitiveData ?? true,
            workflowName: config.workflowName ?? 'Agent workflow',
            traceId: config.traceId,
            groupId: config.groupId,
            traceMetadata: config.traceMetadata
        };
        this.inputGuardrailDefs = (config.inputGuardrails ?? []).map(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["defineInputGuardrail"]);
        this.outputGuardrailDefs = (config.outputGuardrails ?? []).map(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["defineOutputGuardrail"]);
    }
    /**
     * @internal
     */ async #runIndividualNonStream(startingAgent, input, options) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withNewSpanContext"])(async ()=>{
            // if we have a saved state we use that one, otherwise we create a new one
            const state = input instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunState"] ? input : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunState"](options.context instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunContext"] ? options.context : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunContext"](options.context), input, startingAgent, options.maxTurns ?? DEFAULT_MAX_TURNS);
            try {
                while(true){
                    const explictlyModelSet = state._currentAgent.model !== undefined && state._currentAgent.model !== '' || this.config.model !== undefined && this.config.model !== '';
                    let model = selectModel(state._currentAgent.model, this.config.model);
                    if (typeof model === 'string') {
                        model = await this.config.modelProvider.getModel(model);
                    }
                    // if we don't have a current step, we treat this as a new run
                    state._currentStep = state._currentStep ?? {
                        type: 'next_step_run_again'
                    };
                    if (state._currentStep.type === 'next_step_interruption') {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Continuing from interruption');
                        if (!state._lastTurnResponse || !state._lastProcessedResponse) {
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"]('No model response found in previous state', state);
                        }
                        const turnResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["executeInterruptedToolsAndSideEffects"])(state._currentAgent, state._originalInput, state._generatedItems, state._lastTurnResponse, state._lastProcessedResponse, this, state);
                        state._toolUseTracker.addToolUse(state._currentAgent, state._lastProcessedResponse.toolsUsed);
                        state._originalInput = turnResult.originalInput;
                        state._generatedItems = turnResult.generatedItems;
                        state._currentStep = turnResult.nextStep;
                        if (turnResult.nextStep.type === 'next_step_interruption') {
                            // we are still in an interruption, so we need to avoid an infinite loop
                            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunResult"](state);
                        }
                        continue;
                    }
                    if (state._currentStep.type === 'next_step_run_again') {
                        const handoffs = [];
                        if (state._currentAgent.handoffs) {
                            // While this array usually must not be undefined,
                            // we've added this check to prevent unexpected runtime errors like https://github.com/openai/openai-agents-js/issues/138
                            handoffs.push(...state._currentAgent.handoffs.map(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getHandoff"]));
                        }
                        if (!state._currentAgentSpan) {
                            const handoffNames = handoffs.map((h)=>h.agentName);
                            state._currentAgentSpan = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createAgentSpan"])({
                                data: {
                                    name: state._currentAgent.name,
                                    handoffs: handoffNames,
                                    output_type: state._currentAgent.outputSchemaName
                                }
                            });
                            state._currentAgentSpan.start();
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setCurrentSpan"])(state._currentAgentSpan);
                        }
                        const tools = await state._currentAgent.getAllTools(state._context);
                        const serializedTools = tools.map((t)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$serialize$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["serializeTool"])(t));
                        const serializedHandoffs = handoffs.map((h)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$serialize$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["serializeHandoff"])(h));
                        if (state._currentAgentSpan) {
                            state._currentAgentSpan.spanData.tools = tools.map((t)=>t.name);
                        }
                        state._currentTurn++;
                        if (state._currentTurn > state._maxTurns) {
                            state._currentAgentSpan?.setError({
                                message: 'Max turns exceeded',
                                data: {
                                    max_turns: state._maxTurns
                                }
                            });
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["MaxTurnsExceededError"](`Max turns (${state._maxTurns}) exceeded`, state);
                        }
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Running agent ${state._currentAgent.name} (turn ${state._currentTurn})`);
                        if (state._currentTurn === 1) {
                            await this.#runInputGuardrails(state);
                        }
                        const turnInput = getTurnInput(state._originalInput, state._generatedItems);
                        if (state._noActiveAgentRun) {
                            state._currentAgent.emit('agent_start', state._context, state._currentAgent);
                            this.emit('agent_start', state._context, state._currentAgent);
                        }
                        let modelSettings = {
                            ...this.config.modelSettings,
                            ...state._currentAgent.modelSettings
                        };
                        const agentModelSettings = state._currentAgent.modelSettings;
                        modelSettings = adjustModelSettingsForNonGPT5RunnerModel(explictlyModelSet, agentModelSettings, model, modelSettings);
                        modelSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["maybeResetToolChoice"])(state._currentAgent, state._toolUseTracker, modelSettings);
                        state._lastTurnResponse = await model.getResponse({
                            systemInstructions: await state._currentAgent.getSystemPrompt(state._context),
                            prompt: await state._currentAgent.getPrompt(state._context),
                            input: turnInput,
                            previousResponseId: options.previousResponseId,
                            conversationId: options.conversationId,
                            modelSettings,
                            tools: serializedTools,
                            outputType: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["convertAgentOutputTypeToSerializable"])(state._currentAgent.outputType),
                            handoffs: serializedHandoffs,
                            tracing: getTracing(this.config.tracingDisabled, this.config.traceIncludeSensitiveData),
                            signal: options.signal
                        });
                        state._modelResponses.push(state._lastTurnResponse);
                        state._context.usage.add(state._lastTurnResponse.usage);
                        state._noActiveAgentRun = false;
                        const processedResponse = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["processModelResponse"])(state._lastTurnResponse, state._currentAgent, tools, handoffs);
                        state._lastProcessedResponse = processedResponse;
                        const turnResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["executeToolsAndSideEffects"])(state._currentAgent, state._originalInput, state._generatedItems, state._lastTurnResponse, state._lastProcessedResponse, this, state);
                        state._toolUseTracker.addToolUse(state._currentAgent, state._lastProcessedResponse.toolsUsed);
                        state._originalInput = turnResult.originalInput;
                        state._generatedItems = turnResult.generatedItems;
                        state._currentStep = turnResult.nextStep;
                    }
                    if (state._currentStep && state._currentStep.type === 'next_step_final_output') {
                        await this.#runOutputGuardrails(state, state._currentStep.output);
                        this.emit('agent_end', state._context, state._currentAgent, state._currentStep.output);
                        state._currentAgent.emit('agent_end', state._context, state._currentStep.output);
                        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunResult"](state);
                    } else if (state._currentStep && state._currentStep.type === 'next_step_handoff') {
                        state._currentAgent = state._currentStep.newAgent;
                        if (state._currentAgentSpan) {
                            state._currentAgentSpan.end();
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["resetCurrentSpan"])();
                            state._currentAgentSpan = undefined;
                        }
                        state._noActiveAgentRun = true;
                        // we've processed the handoff, so we need to run the loop again
                        state._currentStep = {
                            type: 'next_step_run_again'
                        };
                    } else if (state._currentStep && state._currentStep.type === 'next_step_interruption') {
                        // interrupted. Don't run any guardrails
                        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunResult"](state);
                    } else {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Running next loop');
                    }
                }
            } catch (err) {
                if (state._currentAgentSpan) {
                    state._currentAgentSpan.setError({
                        message: 'Error in agent run',
                        data: {
                            error: String(err)
                        }
                    });
                }
                throw err;
            } finally{
                if (state._currentAgentSpan) {
                    if (state._currentStep?.type !== 'next_step_interruption') {
                        // don't end the span if the run was interrupted
                        state._currentAgentSpan.end();
                    }
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["resetCurrentSpan"])();
                }
            }
        });
    }
    async #runInputGuardrails(state) {
        const guardrails = this.inputGuardrailDefs.concat(state._currentAgent.inputGuardrails.map(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["defineInputGuardrail"]));
        if (guardrails.length > 0) {
            const guardrailArgs = {
                agent: state._currentAgent,
                input: state._originalInput,
                context: state._context
            };
            try {
                const results = await Promise.all(guardrails.map(async (guardrail)=>{
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withGuardrailSpan"])(async (span)=>{
                        const result = await guardrail.run(guardrailArgs);
                        span.spanData.triggered = result.output.tripwireTriggered;
                        return result;
                    }, {
                        data: {
                            name: guardrail.name
                        }
                    }, state._currentAgentSpan);
                }));
                for (const result of results){
                    if (result.output.tripwireTriggered) {
                        if (state._currentAgentSpan) {
                            state._currentAgentSpan.setError({
                                message: 'Guardrail tripwire triggered',
                                data: {
                                    guardrail: result.guardrail.name
                                }
                            });
                        }
                        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["InputGuardrailTripwireTriggered"](`Input guardrail triggered: ${JSON.stringify(result.output.outputInfo)}`, result, state);
                    }
                }
            } catch (e) {
                if (e instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["InputGuardrailTripwireTriggered"]) {
                    throw e;
                }
                // roll back the current turn to enable reruns
                state._currentTurn--;
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["GuardrailExecutionError"](`Input guardrail failed to complete: ${e}`, e, state);
            }
        }
    }
    async #runOutputGuardrails(state, output) {
        const guardrails = this.outputGuardrailDefs.concat(state._currentAgent.outputGuardrails.map(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["defineOutputGuardrail"]));
        if (guardrails.length > 0) {
            const agentOutput = state._currentAgent.processFinalOutput(output);
            const guardrailArgs = {
                agent: state._currentAgent,
                agentOutput,
                context: state._context,
                details: {
                    modelResponse: state._lastTurnResponse
                }
            };
            try {
                const results = await Promise.all(guardrails.map(async (guardrail)=>{
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withGuardrailSpan"])(async (span)=>{
                        const result = await guardrail.run(guardrailArgs);
                        span.spanData.triggered = result.output.tripwireTriggered;
                        return result;
                    }, {
                        data: {
                            name: guardrail.name
                        }
                    }, state._currentAgentSpan);
                }));
                for (const result of results){
                    if (result.output.tripwireTriggered) {
                        if (state._currentAgentSpan) {
                            state._currentAgentSpan.setError({
                                message: 'Guardrail tripwire triggered',
                                data: {
                                    guardrail: result.guardrail.name
                                }
                            });
                        }
                        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OutputGuardrailTripwireTriggered"](`Output guardrail triggered: ${JSON.stringify(result.output.outputInfo)}`, result, state);
                    }
                }
            } catch (e) {
                if (e instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OutputGuardrailTripwireTriggered"]) {
                    throw e;
                }
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["GuardrailExecutionError"](`Output guardrail failed to complete: ${e}`, e, state);
            }
        }
    }
    /**
     * @internal
     */ async #runStreamLoop(result, options) {
        try {
            while(true){
                const currentAgent = result.state._currentAgent;
                const handoffs = currentAgent.handoffs.map(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getHandoff"]);
                const tools = await currentAgent.getAllTools(result.state._context);
                const serializedTools = tools.map((t)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$serialize$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["serializeTool"])(t));
                const serializedHandoffs = handoffs.map((h)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$serialize$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["serializeHandoff"])(h));
                result.state._currentStep = result.state._currentStep ?? {
                    type: 'next_step_run_again'
                };
                if (result.state._currentStep.type === 'next_step_interruption') {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Continuing from interruption');
                    if (!result.state._lastTurnResponse || !result.state._lastProcessedResponse) {
                        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"]('No model response found in previous state', result.state);
                    }
                    const turnResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["executeInterruptedToolsAndSideEffects"])(result.state._currentAgent, result.state._originalInput, result.state._generatedItems, result.state._lastTurnResponse, result.state._lastProcessedResponse, this, result.state);
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addStepToRunResult"])(result, turnResult);
                    result.state._toolUseTracker.addToolUse(result.state._currentAgent, result.state._lastProcessedResponse.toolsUsed);
                    result.state._originalInput = turnResult.originalInput;
                    result.state._generatedItems = turnResult.generatedItems;
                    result.state._currentStep = turnResult.nextStep;
                    if (turnResult.nextStep.type === 'next_step_interruption') {
                        // we are still in an interruption, so we need to avoid an infinite loop
                        return;
                    }
                    continue;
                }
                if (result.state._currentStep.type === 'next_step_run_again') {
                    if (!result.state._currentAgentSpan) {
                        const handoffNames = handoffs.map((h)=>h.agentName);
                        result.state._currentAgentSpan = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createAgentSpan"])({
                            data: {
                                name: currentAgent.name,
                                handoffs: handoffNames,
                                tools: tools.map((t)=>t.name),
                                output_type: currentAgent.outputSchemaName
                            }
                        });
                        result.state._currentAgentSpan.start();
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setCurrentSpan"])(result.state._currentAgentSpan);
                    }
                    result.state._currentTurn++;
                    if (result.state._currentTurn > result.state._maxTurns) {
                        result.state._currentAgentSpan?.setError({
                            message: 'Max turns exceeded',
                            data: {
                                max_turns: result.state._maxTurns
                            }
                        });
                        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["MaxTurnsExceededError"](`Max turns (${result.state._maxTurns}) exceeded`, result.state);
                    }
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug(`Running agent ${currentAgent.name} (turn ${result.state._currentTurn})`);
                    const explictlyModelSet = currentAgent.model !== undefined && currentAgent.model !== '' || this.config.model !== undefined && this.config.model !== '';
                    let model = selectModel(currentAgent.model, this.config.model);
                    if (typeof model === 'string') {
                        model = await this.config.modelProvider.getModel(model);
                    }
                    if (result.state._currentTurn === 1) {
                        await this.#runInputGuardrails(result.state);
                    }
                    let modelSettings = {
                        ...this.config.modelSettings,
                        ...currentAgent.modelSettings
                    };
                    const agentModelSettings = currentAgent.modelSettings;
                    modelSettings = adjustModelSettingsForNonGPT5RunnerModel(explictlyModelSet, agentModelSettings, model, modelSettings);
                    modelSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["maybeResetToolChoice"])(currentAgent, result.state._toolUseTracker, modelSettings);
                    const turnInput = getTurnInput(result.input, result.newItems);
                    if (result.state._noActiveAgentRun) {
                        currentAgent.emit('agent_start', result.state._context, currentAgent);
                        this.emit('agent_start', result.state._context, currentAgent);
                    }
                    let finalResponse = undefined;
                    for await (const event of model.getStreamedResponse({
                        systemInstructions: await currentAgent.getSystemPrompt(result.state._context),
                        prompt: await currentAgent.getPrompt(result.state._context),
                        input: turnInput,
                        previousResponseId: options.previousResponseId,
                        conversationId: options.conversationId,
                        modelSettings,
                        tools: serializedTools,
                        handoffs: serializedHandoffs,
                        outputType: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["convertAgentOutputTypeToSerializable"])(currentAgent.outputType),
                        tracing: getTracing(this.config.tracingDisabled, this.config.traceIncludeSensitiveData),
                        signal: options.signal
                    })){
                        if (event.type === 'response_done') {
                            const parsed = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["StreamEventResponseCompleted"].parse(event);
                            finalResponse = {
                                usage: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Usage"](parsed.response.usage),
                                output: parsed.response.output,
                                responseId: parsed.response.id
                            };
                        }
                        if (result.cancelled) {
                            // When the user's code exits a loop to consume the stream, we need to break
                            // this loop to prevent internal false errors and unnecessary processing
                            return;
                        }
                        result._addItem(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunRawModelStreamEvent"](event));
                    }
                    result.state._noActiveAgentRun = false;
                    if (!finalResponse) {
                        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"]('Model did not produce a final response!', result.state);
                    }
                    result.state._lastTurnResponse = finalResponse;
                    result.state._modelResponses.push(result.state._lastTurnResponse);
                    const processedResponse = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["processModelResponse"])(result.state._lastTurnResponse, currentAgent, tools, handoffs);
                    result.state._lastProcessedResponse = processedResponse;
                    const turnResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["executeToolsAndSideEffects"])(currentAgent, result.state._originalInput, result.state._generatedItems, result.state._lastTurnResponse, result.state._lastProcessedResponse, this, result.state);
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runImplementation$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addStepToRunResult"])(result, turnResult);
                    result.state._toolUseTracker.addToolUse(currentAgent, processedResponse.toolsUsed);
                    result.state._originalInput = turnResult.originalInput;
                    result.state._generatedItems = turnResult.generatedItems;
                    result.state._currentStep = turnResult.nextStep;
                }
                if (result.state._currentStep.type === 'next_step_final_output') {
                    await this.#runOutputGuardrails(result.state, result.state._currentStep.output);
                    this.emit('agent_end', result.state._context, currentAgent, result.state._currentStep.output);
                    currentAgent.emit('agent_end', result.state._context, result.state._currentStep.output);
                    return;
                } else if (result.state._currentStep.type === 'next_step_interruption') {
                    // we are done for now. Don't run any output guardrails
                    return;
                } else if (result.state._currentStep.type === 'next_step_handoff') {
                    result.state._currentAgent = result.state._currentStep?.newAgent;
                    if (result.state._currentAgentSpan) {
                        result.state._currentAgentSpan.end();
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["resetCurrentSpan"])();
                    }
                    result.state._currentAgentSpan = undefined;
                    result._addItem(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunAgentUpdatedStreamEvent"](result.state._currentAgent));
                    result.state._noActiveAgentRun = true;
                    // we've processed the handoff, so we need to run the loop again
                    result.state._currentStep = {
                        type: 'next_step_run_again'
                    };
                } else {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].debug('Running next loop');
                }
            }
        } catch (error) {
            if (result.state._currentAgentSpan) {
                result.state._currentAgentSpan.setError({
                    message: 'Error in agent run',
                    data: {
                        error: String(error)
                    }
                });
            }
            throw error;
        } finally{
            if (result.state._currentAgentSpan) {
                if (result.state._currentStep?.type !== 'next_step_interruption') {
                    result.state._currentAgentSpan.end();
                }
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["resetCurrentSpan"])();
            }
        }
    }
    /**
     * @internal
     */ async #runIndividualStream(agent, input, options) {
        options = options ?? {};
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withNewSpanContext"])(async ()=>{
            // Initialize or reuse existing state
            const state = input instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunState"] ? input : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunState"](options.context instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunContext"] ? options.context : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunContext"](options.context), input, agent, options.maxTurns ?? DEFAULT_MAX_TURNS);
            // Initialize the streamed result with existing state
            const result = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["StreamedRunResult"]({
                signal: options.signal,
                state
            });
            // Setup defaults
            result.maxTurns = options.maxTurns ?? state._maxTurns;
            // Continue the stream loop without blocking
            this.#runStreamLoop(result, options).then(()=>{
                result._done();
            }, (err)=>{
                result._raiseError(err);
            });
            return result;
        });
    }
    run(agent, input, options = {
        stream: false,
        context: undefined
    }) {
        if (input instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunState"] && input._trace) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withTrace"])(input._trace, async ()=>{
                if (input._currentAgentSpan) {
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setCurrentSpan"])(input._currentAgentSpan);
                }
                if (options?.stream) {
                    return this.#runIndividualStream(agent, input, options);
                } else {
                    return this.#runIndividualNonStream(agent, input, options);
                }
            });
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getOrCreateTrace"])(async ()=>{
            if (options?.stream) {
                return this.#runIndividualStream(agent, input, options);
            } else {
                return this.#runIndividualNonStream(agent, input, options);
            }
        }, {
            traceId: this.config.traceId,
            name: this.config.workflowName,
            groupId: this.config.groupId,
            metadata: this.config.traceMetadata
        });
    }
}
let _defaultRunner = undefined;
function getDefaultRunner() {
    if (_defaultRunner) {
        return _defaultRunner;
    }
    _defaultRunner = new Runner();
    return _defaultRunner;
}
function selectModel(agentModel, runConfigModel) {
    // When initializing an agent without model name, the model property is set to an empty string. So,
    // * agentModel === '' & runConfigModel exists, runConfigModel will be used
    // * agentModel is set, the agentModel will be used over runConfigModel
    if (typeof agentModel === 'string' && agentModel !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Agent"].DEFAULT_MODEL_PLACEHOLDER || agentModel // any truthy value
    ) {
        return agentModel;
    }
    return runConfigModel ?? agentModel ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Agent"].DEFAULT_MODEL_PLACEHOLDER;
}
async function run(agent, input, options) {
    const runner = getDefaultRunner();
    if (options?.stream) {
        return await runner.run(agent, input, options);
    } else {
        return await runner.run(agent, input, options);
    }
}
/**
 * When the default model is a GPT-5 variant, agents may carry GPT-5-specific providerData
 * (e.g., reasoning effort, text verbosity). If a run resolves to a non-GPT-5 model and the
 * agent relied on the default model (i.e., no explicit model set), these GPT-5-only settings
 * are incompatible and should be stripped to avoid runtime errors.
 */ function adjustModelSettingsForNonGPT5RunnerModel(explictlyModelSet, agentModelSettings, runnerModel, modelSettings) {
    if (// gpt-5 is enabled for the default model for agents
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isGpt5Default"])() && // explicitly set model for the agent
    explictlyModelSet && // this runner uses a non-gpt-5 model
    (typeof runnerModel !== 'string' || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["gpt5ReasoningSettingsRequired"])(runnerModel)) && (agentModelSettings.providerData?.reasoning || agentModelSettings.providerData?.text?.verbosity || agentModelSettings.providerData?.reasoning_effort)) {
        // the incompatible parameters should be removed to avoid runtime errors
        delete modelSettings.providerData?.reasoning;
        delete modelSettings.providerData?.text?.verbosity;
        delete modelSettings.providerData?.reasoning_effort;
    }
    return modelSettings;
} //# sourceMappingURL=run.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/agent.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Agent",
    ()=>Agent,
    "consumeAgentToolRunResult",
    ()=>consumeAgentToolRunResult,
    "saveAgentToolRunResult",
    ()=>saveAgentToolRunResult
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/zod/v3/external.js [app-route] (ecmascript) <export * as z>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/lifecycle.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/mcp.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/defaultModel.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tool.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/run.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/tools.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$messages$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/messages.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/utils/typeGuards.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
// Per-process, ephemeral map linking a function tool call to its nested
// Agent run result within the same run; entry is removed after consumption.
const agentToolRunResults = new WeakMap();
function saveAgentToolRunResult(toolCall, runResult) {
    if (toolCall) {
        agentToolRunResults.set(toolCall, runResult);
    }
}
function consumeAgentToolRunResult(toolCall) {
    const runResult = agentToolRunResults.get(toolCall);
    if (runResult) {
        agentToolRunResults.delete(toolCall);
    }
    return runResult;
}
// The parameter type fo needApproval function for the tool created by Agent.asTool() method
const AgentAsToolNeedApprovalSchame = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    input: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
class Agent extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["AgentHooks"] {
    /**
     * Create an Agent with handoffs and automatically infer the union type for TOutput from the handoff agents' output types.
     */ static create(config) {
        return new Agent({
            ...config,
            handoffs: config.handoffs,
            outputType: config.outputType,
            handoffOutputTypeWarningEnabled: false
        });
    }
    static DEFAULT_MODEL_PLACEHOLDER = '';
    name;
    instructions;
    prompt;
    handoffDescription;
    handoffs;
    model;
    modelSettings;
    tools;
    mcpServers;
    inputGuardrails;
    outputGuardrails;
    outputType = 'text';
    toolUseBehavior;
    resetToolChoice;
    constructor(config){
        super();
        if (typeof config.name !== 'string' || config.name.trim() === '') {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"]('Agent must have a name.');
        }
        this.name = config.name;
        this.instructions = config.instructions ?? Agent.DEFAULT_MODEL_PLACEHOLDER;
        this.prompt = config.prompt;
        this.handoffDescription = config.handoffDescription ?? '';
        this.handoffs = config.handoffs ?? [];
        this.model = config.model ?? '';
        this.modelSettings = config.modelSettings ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDefaultModelSettings"])();
        this.tools = config.tools ?? [];
        this.mcpServers = config.mcpServers ?? [];
        this.inputGuardrails = config.inputGuardrails ?? [];
        this.outputGuardrails = config.outputGuardrails ?? [];
        if (config.outputType) {
            this.outputType = config.outputType;
        }
        this.toolUseBehavior = config.toolUseBehavior ?? 'run_llm_again';
        this.resetToolChoice = config.resetToolChoice ?? true;
        if (// The user sets a non-default model
        config.model !== undefined && // The default model is gpt-5
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isGpt5Default"])() && // However, the specified model is not a gpt-5 model
        (typeof config.model !== 'string' || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["gpt5ReasoningSettingsRequired"])(config.model)) && // The model settings are not customized for the specified model
        config.modelSettings === undefined) {
            // In this scenario, we should use a generic model settings
            // because non-gpt-5 models are not compatible with the default gpt-5 model settings.
            // This is a best-effort attempt to make the agent work with non-gpt-5 models.
            this.modelSettings = {};
        }
        // --- Runtime warning for handoff output type compatibility ---
        if (config.handoffOutputTypeWarningEnabled === undefined || config.handoffOutputTypeWarningEnabled) {
            if (this.handoffs && this.outputType) {
                const outputTypes = new Set([
                    JSON.stringify(this.outputType)
                ]);
                for (const h of this.handoffs){
                    if ('outputType' in h && h.outputType) {
                        outputTypes.add(JSON.stringify(h.outputType));
                    } else if ('agent' in h && h.agent.outputType) {
                        outputTypes.add(JSON.stringify(h.agent.outputType));
                    }
                }
                if (outputTypes.size > 1) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].warn(`[Agent] Warning: Handoff agents have different output types: ${Array.from(outputTypes).join(', ')}. You can make it type-safe by using Agent.create({ ... }) method instead.`);
                }
            }
        }
    }
    /**
     * Output schema name.
     */ get outputSchemaName() {
        if (this.outputType === 'text') {
            return 'text';
        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isZodObject"])(this.outputType)) {
            return 'ZodOutput';
        } else if (typeof this.outputType === 'object') {
            return this.outputType.name;
        }
        throw new Error(`Unknown output type: ${this.outputType}`);
    }
    /**
     * Makes a copy of the agent, with the given arguments changed. For example, you could do:
     *
     * ```
     * const newAgent = agent.clone({ instructions: 'New instructions' })
     * ```
     *
     * @param config - A partial configuration to change.
     * @returns A new agent with the given changes.
     */ clone(config) {
        return new Agent({
            ...this,
            ...config
        });
    }
    /**
     * Transform this agent into a tool, callable by other agents.
     *
     * This is different from handoffs in two ways:
     * 1. In handoffs, the new agent receives the conversation history. In this tool, the new agent
     *    receives generated input.
     * 2. In handoffs, the new agent takes over the conversation. In this tool, the new agent is
     *    called as a tool, and the conversation is continued by the original agent.
     *
     * @param options - Options for the tool.
     * @returns A tool that runs the agent and returns the output text.
     */ asTool(options) {
        const { toolName, toolDescription, customOutputExtractor, needsApproval } = options;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["tool"])({
            name: toolName ?? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$tools$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["toFunctionToolName"])(this.name),
            description: toolDescription ?? '',
            parameters: AgentAsToolNeedApprovalSchame,
            strict: true,
            needsApproval,
            execute: async (data, context, details)=>{
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isAgentToolInput"])(data)) {
                    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"]('Agent tool called with invalid input');
                }
                const runner = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Runner"]();
                const result = await runner.run(this, data.input, {
                    context
                });
                const outputText = typeof customOutputExtractor === 'function' ? await customOutputExtractor(result) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$messages$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getOutputText"])(result.rawResponses[result.rawResponses.length - 1]);
                if (details?.toolCall) {
                    saveAgentToolRunResult(details.toolCall, result);
                }
                return outputText;
            }
        });
    }
    /**
     * Returns the system prompt for the agent.
     *
     * If the agent has a function as its instructions, this function will be called with the
     * runContext and the agent instance.
     */ async getSystemPrompt(runContext) {
        if (typeof this.instructions === 'function') {
            return await this.instructions(runContext, this);
        }
        return this.instructions;
    }
    /**
     * Returns the prompt template for the agent, if defined.
     *
     * If the agent has a function as its prompt, this function will be called with the
     * runContext and the agent instance.
     */ async getPrompt(runContext) {
        if (typeof this.prompt === 'function') {
            return await this.prompt(runContext, this);
        }
        return this.prompt;
    }
    /**
     * Fetches the available tools from the MCP servers.
     * @returns the MCP powered tools
     */ async getMcpTools(runContext) {
        if (this.mcpServers.length > 0) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getAllMcpTools"])({
                mcpServers: this.mcpServers,
                runContext,
                agent: this,
                convertSchemasToStrict: false
            });
        }
        return [];
    }
    /**
     * ALl agent tools, including the MCPl and function tools.
     *
     * @returns all configured tools
     */ async getAllTools(runContext) {
        return [
            ...await this.getMcpTools(runContext),
            ...this.tools
        ];
    }
    /**
     * Processes the final output of the agent.
     *
     * @param output - The output of the agent.
     * @returns The parsed out.
     */ processFinalOutput(output) {
        if (this.outputType === 'text') {
            return output;
        }
        if (typeof this.outputType === 'object') {
            const parsed = JSON.parse(output);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$utils$2f$typeGuards$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isZodObject"])(this.outputType)) {
                return this.outputType.parse(parsed);
            }
            return parsed;
        }
        throw new Error(`Unknown output type: ${this.outputType}`);
    }
    /**
     * Returns a JSON representation of the agent, which is serializable.
     *
     * @returns A JSON object containing the agent's name.
     */ toJSON() {
        return {
            name: this.name
        };
    }
} //# sourceMappingURL=agent.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/helpers/message.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Creates a user message entry
 *
 * @param input The input message from the user
 * @param options Any additional options that will be directly passed to the model
 * @returns a message entry
 */ __turbopack_context__.s([
    "assistant",
    ()=>assistant,
    "system",
    ()=>system,
    "user",
    ()=>user
]);
function user(input, options) {
    return {
        type: 'message',
        role: 'user',
        content: typeof input === 'string' ? [
            {
                type: 'input_text',
                text: input
            }
        ] : input,
        providerData: options
    };
}
function system(input, options) {
    return {
        type: 'message',
        role: 'system',
        content: input,
        providerData: options
    };
}
function assistant(content, options) {
    return {
        type: 'message',
        role: 'assistant',
        content: typeof content === 'string' ? [
            {
                type: 'output_text',
                text: content
            }
        ] : content,
        status: 'completed',
        providerData: options
    };
} //# sourceMappingURL=message.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/mcpUtil.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/** Convenience helper to create a static tool filter. */ __turbopack_context__.s([
    "createMCPToolStaticFilter",
    ()=>createMCPToolStaticFilter
]);
function createMCPToolStaticFilter(options) {
    if (!options?.allowed && !options?.blocked) {
        return undefined;
    }
    const filter = {};
    if (options?.allowed) {
        filter.allowedToolNames = options.allowed;
    }
    if (options?.blocked) {
        filter.blockedToolNames = options.blocked;
    }
    return filter;
} //# sourceMappingURL=mcpUtil.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/index.mjs [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/processor.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$shims$2f$shims$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/shims/shims-node.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/agent.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/events.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/guardrail.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/handoff.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$helpers$2f$message$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/helpers/message.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/items.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/lifecycle.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/mcp.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcpUtil$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/mcpUtil.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/defaultModel.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$providers$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/providers.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/result.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/run.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runContext.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runState.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tool.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/provider.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/usage.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/types/protocol.mjs [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
/**
 * Add the default processor, which exports traces and spans to the backend in batches. You can
 * change the default behavior by either:
 * 1. calling addTraceProcessor, which adds additional processors, or
 * 2. calling setTraceProcessors, which sets the processors and discards the default one
 */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["addTraceProcessor"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["defaultProcessor"])()); //# sourceMappingURL=index.mjs.map
}),
"[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BatchTraceProcessor",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["BatchTraceProcessor"],
    "ConsoleSpanExporter",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ConsoleSpanExporter"],
    "NoopSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"],
    "NoopTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopTrace"],
    "Span",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Span"],
    "Trace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Trace"],
    "addTraceProcessor",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["addTraceProcessor"],
    "createAgentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createAgentSpan"],
    "createCustomSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createCustomSpan"],
    "createFunctionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createFunctionSpan"],
    "createGenerationSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createGenerationSpan"],
    "createGuardrailSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createGuardrailSpan"],
    "createHandoffSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createHandoffSpan"],
    "createMCPListToolsSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createMCPListToolsSpan"],
    "createResponseSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createResponseSpan"],
    "createSpeechGroupSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createSpeechGroupSpan"],
    "createSpeechSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createSpeechSpan"],
    "createTranscriptionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createTranscriptionSpan"],
    "generateGroupId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateGroupId"],
    "generateSpanId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateSpanId"],
    "generateTraceId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateTraceId"],
    "getCurrentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentSpan"],
    "getCurrentTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentTrace"],
    "getOrCreateTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getOrCreateTrace"],
    "resetCurrentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["resetCurrentSpan"],
    "setCurrentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setCurrentSpan"],
    "setTraceProcessors",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["setTraceProcessors"],
    "setTracingDisabled",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["setTracingDisabled"],
    "startTraceExportLoop",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["startTraceExportLoop"],
    "withAgentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withAgentSpan"],
    "withCustomSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withCustomSpan"],
    "withFunctionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withFunctionSpan"],
    "withGenerationSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withGenerationSpan"],
    "withGuardrailSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withGuardrailSpan"],
    "withHandoffSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withHandoffSpan"],
    "withMCPListToolsSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withMCPListToolsSpan"],
    "withResponseSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withResponseSpan"],
    "withSpeechGroupSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withSpeechGroupSpan"],
    "withSpeechSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withSpeechSpan"],
    "withTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withTrace"],
    "withTranscriptionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withTranscriptionSpan"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$context$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/context.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$createSpans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/createSpans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$processor$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/processor.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$spans$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/spans.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$traces$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/traces.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$utils$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/utils.mjs [app-route] (ecmascript)");
}),
"[project]/node_modules/@openai/agents-core/dist/index.mjs [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Agent",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Agent"],
    "AgentHooks",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["AgentHooks"],
    "AgentsError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["AgentsError"],
    "BatchTraceProcessor",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["BatchTraceProcessor"],
    "ConsoleSpanExporter",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ConsoleSpanExporter"],
    "GuardrailExecutionError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["GuardrailExecutionError"],
    "Handoff",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Handoff"],
    "InputGuardrailTripwireTriggered",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["InputGuardrailTripwireTriggered"],
    "MCPServerSSE",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["MCPServerSSE"],
    "MCPServerStdio",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["MCPServerStdio"],
    "MCPServerStreamableHttp",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["MCPServerStreamableHttp"],
    "MaxTurnsExceededError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["MaxTurnsExceededError"],
    "ModelBehaviorError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ModelBehaviorError"],
    "NoopSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopSpan"],
    "NoopTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NoopTrace"],
    "OPENAI_DEFAULT_MODEL_ENV_VARIABLE_NAME",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OPENAI_DEFAULT_MODEL_ENV_VARIABLE_NAME"],
    "OutputGuardrailTripwireTriggered",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OutputGuardrailTripwireTriggered"],
    "RunAgentUpdatedStreamEvent",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunAgentUpdatedStreamEvent"],
    "RunContext",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunContext"],
    "RunHandoffCallItem",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffCallItem"],
    "RunHandoffOutputItem",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunHandoffOutputItem"],
    "RunItemStreamEvent",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunItemStreamEvent"],
    "RunMessageOutputItem",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunMessageOutputItem"],
    "RunRawModelStreamEvent",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunRawModelStreamEvent"],
    "RunReasoningItem",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunReasoningItem"],
    "RunResult",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunResult"],
    "RunState",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunState"],
    "RunToolApprovalItem",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolApprovalItem"],
    "RunToolCallItem",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallItem"],
    "RunToolCallOutputItem",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RunToolCallOutputItem"],
    "Runner",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Runner"],
    "RuntimeEventEmitter",
    ()=>__TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$events__$5b$external$5d$__$28$node$3a$events$2c$__cjs$29$__$3c$export__EventEmitter__as__RuntimeEventEmitter$3e$__["RuntimeEventEmitter"],
    "Span",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Span"],
    "StreamedRunResult",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["StreamedRunResult"],
    "SystemError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["SystemError"],
    "ToolCallError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ToolCallError"],
    "Trace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Trace"],
    "TraceProvider",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["TraceProvider"],
    "Usage",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Usage"],
    "UserError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UserError"],
    "addTraceProcessor",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addTraceProcessor"],
    "assistant",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$helpers$2f$message$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["assistant"],
    "computerTool",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["computerTool"],
    "createAgentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createAgentSpan"],
    "createCustomSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createCustomSpan"],
    "createFunctionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createFunctionSpan"],
    "createGenerationSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createGenerationSpan"],
    "createGuardrailSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createGuardrailSpan"],
    "createHandoffSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createHandoffSpan"],
    "createMCPListToolsSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createMCPListToolsSpan"],
    "createMCPToolStaticFilter",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcpUtil$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createMCPToolStaticFilter"],
    "createResponseSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createResponseSpan"],
    "createSpeechGroupSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createSpeechGroupSpan"],
    "createSpeechSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createSpeechSpan"],
    "createTranscriptionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createTranscriptionSpan"],
    "defineOutputGuardrail",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["defineOutputGuardrail"],
    "extractAllTextOutput",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["extractAllTextOutput"],
    "generateGroupId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateGroupId"],
    "generateSpanId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateSpanId"],
    "generateTraceId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateTraceId"],
    "getAllMcpTools",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getAllMcpTools"],
    "getCurrentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentSpan"],
    "getCurrentTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCurrentTrace"],
    "getDefaultModel",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDefaultModel"],
    "getDefaultModelSettings",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDefaultModelSettings"],
    "getGlobalTraceProvider",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getGlobalTraceProvider"],
    "getHandoff",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getHandoff"],
    "getLogger",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getLogger"],
    "getOrCreateTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getOrCreateTrace"],
    "getTransferMessage",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getTransferMessage"],
    "gpt5ReasoningSettingsRequired",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["gpt5ReasoningSettingsRequired"],
    "handoff",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["handoff"],
    "hostedMcpTool",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["hostedMcpTool"],
    "invalidateServerToolsCache",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["invalidateServerToolsCache"],
    "isGpt5Default",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["isGpt5Default"],
    "mcpToFunctionTool",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["mcpToFunctionTool"],
    "protocol",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__,
    "resetCurrentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["resetCurrentSpan"],
    "run",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["run"],
    "setCurrentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setCurrentSpan"],
    "setDefaultModelProvider",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$providers$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setDefaultModelProvider"],
    "setTraceProcessors",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setTraceProcessors"],
    "setTracingDisabled",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["setTracingDisabled"],
    "startTraceExportLoop",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["startTraceExportLoop"],
    "system",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$helpers$2f$message$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["system"],
    "tool",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["tool"],
    "user",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$helpers$2f$message$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["user"],
    "withAgentSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withAgentSpan"],
    "withCustomSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withCustomSpan"],
    "withFunctionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withFunctionSpan"],
    "withGenerationSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withGenerationSpan"],
    "withGuardrailSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withGuardrailSpan"],
    "withHandoffSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withHandoffSpan"],
    "withMCPListToolsSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withMCPListToolsSpan"],
    "withResponseSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withResponseSpan"],
    "withSpeechGroupSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withSpeechGroupSpan"],
    "withSpeechSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withSpeechSpan"],
    "withTrace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withTrace"],
    "withTranscriptionSpan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["withTranscriptionSpan"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/index.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$events__$5b$external$5d$__$28$node$3a$events$2c$__cjs$29$__$3c$export__EventEmitter__as__RuntimeEventEmitter$3e$__ = __turbopack_context__.i("[externals]/node:events [external] (node:events, cjs) <export EventEmitter as RuntimeEventEmitter>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$agent$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/agent.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$errors$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/errors.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$events$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/events.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$guardrail$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/guardrail.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$handoff$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/handoff.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$helpers$2f$message$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/helpers/message.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$items$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/items.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$lifecycle$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/lifecycle.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$logger$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/logger.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcp$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/mcp.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$mcpUtil$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/mcpUtil.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$defaultModel$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/defaultModel.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$providers$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/providers.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$result$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/result.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$run$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/run.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runContext$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runContext.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$runState$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/runState.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tool$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tool.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/index.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$tracing$2f$provider$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/tracing/provider.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$usage$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/usage.mjs [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$openai$2f$agents$2d$core$2f$dist$2f$types$2f$protocol$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@openai/agents-core/dist/types/protocol.mjs [app-route] (ecmascript)");
}),
];

//# sourceMappingURL=node_modules_%40openai_agents-core_dist_4d5c9480._.js.map